
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="es">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>RAID &#8212; documentación de dgtrabada - 1.0</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Índice" href="../genindex.html" />
    <link rel="search" title="Búsqueda" href="../search.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="raid">
<h1>RAID<a class="headerlink" href="#raid" title="Enlazar permanentemente con este título">¶</a></h1>
<p>La tecnología RAID (sigla que significa Redundant Array of Inexpensive Disks, conjunto redundante de discos de bajo costo, o en algunos casos Redundant Array of Independent Disks, conjunto redundante de discos independientes) permite al usuario formar una unidad de almacenamiento a partir de varios discos rígidos
Esta tecnología fue desarrollada en 1987 por tres investigadores (Patterson, Gibson y Katz) en la Universidad de California (Berkeley). Desde 1992, la junta consultiva para el uso de sistemas RAID (RAID Advisory Board) ha administrado estas especificaciones. Estas consisten en la formación de una unidad con gran capacidad (y por lo tanto costosa) a partir de unidades más pequeñas y económicas (es decir, unidades en las que el MTBF, Mean Time Between Failure [tiempo medio entre fallos], sea corto).</p>
<p>Con la tecnología RAID, los discos unidos pueden utilizarse de maneras diferentes, denominadas niveles RAID</p>
<a class="reference internal image-reference" href="../_images/server.jpeg"><img alt="../_images/server.jpeg" src="../_images/server.jpeg" style="width: 400px;" /></a>
<a class="reference internal image-reference" href="../_images/server1.jpeg"><img alt="../_images/server1.jpeg" src="../_images/server1.jpeg" style="width: 400px;" /></a>
<a class="reference internal image-reference" href="../_images/server2.jpeg"><img alt="../_images/server2.jpeg" src="../_images/server2.jpeg" style="width: 400px;" /></a>
<div class="section" id="nivel-0">
<h2>Nivel 0<a class="headerlink" href="#nivel-0" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Denominado configuración en bandas (striping). Consiste en almacenar datos distribuyéndolos en todas las unidades. Es utilizado para fusionar todos los discos duros en un sólo disco para aumentar la capacidad de almacenamiento y el rendimiento. Disminuye la fiabilidad.</p>
<a class="reference internal image-reference" href="../_images/raid0.png"><img alt="../_images/raid0.png" src="../_images/raid0.png" style="width: 150px;" /></a>
<p>Por ejemplo, cuatro unidades de disco duro 120 GB en una matriz RAID 0 aparecerá como una sola unidad de disco duro 480 GB para el Sistema operativo.</p>
</div>
<div class="section" id="nivel-1">
<h2>Nivel 1<a class="headerlink" href="#nivel-1" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Denominado réplica (mirroring), crea una copia exacta (o espejo) de un conjunto de datos en dos o más discos. Es utilizado para garantizar la integridad de los datos.</p>
<a class="reference internal image-reference" href="../_images/raid1.png"><img alt="../_images/raid1.png" src="../_images/raid1.png" style="width: 150px;" /></a>
<p>Por ejemplo, dos unidades de disco duro 120 GB en una matriz RAID 1 aparecerá como una sola unidad de disco duro 120 GB para el Sistema operativo</p>
</div>
<div class="section" id="nivel-2">
<h2>Nivel 2<a class="headerlink" href="#nivel-2" title="Enlazar permanentemente con este título">¶</a></h2>
<p>(Obsoleto) Es como el RAID 0 pero hace Striping con bits y utiliza un código de corrección Hamming.</p>
</div>
<div class="section" id="nivel-3">
<h2>Nivel 3<a class="headerlink" href="#nivel-3" title="Enlazar permanentemente con este título">¶</a></h2>
<p>(Striping + paridad). Denominado conjunto de discos con datos entrelazados en bits. Divide los datos a nivel de bytes en lugar de a nivel de bloques . Los discos son sincronizados por la controladora para funcionar al unísono. Éste es el único nivel RAID original que actualmente no se usa. Permite tasas de transferencias extremadamente altas.</p>
<a class="reference internal image-reference" href="../_images/raid3.png"><img alt="../_images/raid3.png" src="../_images/raid3.png" style="width: 250px;" /></a>
</div>
<div class="section" id="nivel-4">
<h2>Nivel 4<a class="headerlink" href="#nivel-4" title="Enlazar permanentemente con este título">¶</a></h2>
<p>El RAID 4 es parecido al RAID 3 excepto porque divide a nivel de bloques en lugar de a nivel de bytes (bloques ~ 512 KB</p>
</div>
<div class="section" id="nivel-5">
<h2>Nivel 5<a class="headerlink" href="#nivel-5" title="Enlazar permanentemente con este título">¶</a></h2>
<p>(Strinping + Paridad distribuida) Denominado conjunto de discos con paridad distribuida de entrelazado de bloques. Es una división de datos a nivel de bloques distribuyendo la información de paridad entre todos los discos miembros del conjunto. El RAID 5 ha logrado popularidad gracias a su bajo coste de redundancia. Generalmente, el RAID 5 se implementa con soporte hardware para el cálculo de la paridad. RAID 5 necesitará un mínimo de 3 discos para ser implementado.</p>
<a class="reference internal image-reference" href="../_images/raid5.png"><img alt="../_images/raid5.png" src="../_images/raid5.png" style="width: 250px;" /></a>
<p>Por ejemplo, cuatro unidades de disco duro 120 GB en una matriz RAID 5 apariencia similar a una unidad de disco duro 360GB para el Sistema operativo.</p>
</div>
<div class="section" id="nivel-6">
<h2>Nivel 6<a class="headerlink" href="#nivel-6" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Se trata de una evolución del Raid 5, donde se busca ampliar la tolerancia frente a fallos, este aumento de tolerancia se consigue usando una doble banda de paridad (que también se distribuye entre todos los discos) y aumentando a 4 el número mínimo de discos necesarios para un Raid.</p>
<a class="reference internal image-reference" href="../_images/raid6.png"><img alt="../_images/raid6.png" src="../_images/raid6.png" style="width: 300px;" /></a>
<p>Como resultado de las modificaciones introducidas los Raid 6, toleran el fallo de dos discos (incluso durante la reconstrucción de uno de ellos), sin pérdida de datos.</p>
</div>
<div class="section" id="niveles-raid-anidados">
<h2>Niveles RAID anidados<a class="headerlink" href="#niveles-raid-anidados" title="Enlazar permanentemente con este título">¶</a></h2>
<a class="reference internal image-reference" href="../_images/raid01.png"><img alt="../_images/raid01.png" src="../_images/raid01.png" style="width: 300px;" /></a>
<a class="reference internal image-reference" href="../_images/raid10.png"><img alt="../_images/raid10.png" src="../_images/raid10.png" style="width: 300px;" /></a>
<a class="reference internal image-reference" href="../_images/raid50.png"><img alt="../_images/raid50.png" src="../_images/raid50.png" style="width: 300px;" /></a>
<a class="reference internal image-reference" href="../_images/raid51.png"><img alt="../_images/raid51.png" src="../_images/raid51.png" style="width: 300px;" /></a>
</div>
<div class="section" id="raid-100">
<h2>RAID 100<a class="headerlink" href="#raid-100" title="Enlazar permanentemente con este título">¶</a></h2>
<a class="reference internal image-reference" href="../_images/raid100.png"><img alt="../_images/raid100.png" src="../_images/raid100.png" style="width: 500px;" /></a>
</div>
<div class="section" id="raid-50">
<h2>RAID 50<a class="headerlink" href="#raid-50" title="Enlazar permanentemente con este título">¶</a></h2>
<a class="reference internal image-reference" href="../_images/raid50_3.png"><img alt="../_images/raid50_3.png" src="../_images/raid50_3.png" style="width: 500px;" /></a>
</div>
<div class="section" id="ejemplo-crear-un-raid-0">
<h2>Ejemplo: Crear un RAID 0<a class="headerlink" href="#ejemplo-crear-un-raid-0" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Antes de crear la RAID 0 podemos ver en el fichero /proc/mdstat por si al algún otro raid:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cat /proc/mdstat
</pre></div>
</div>
<p>Proseguimos a la creación del md en el que crearemos la RAID. Para ello utilizaremos el comando mknod :</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mknod /dev/md0 b <span class="m">9</span> <span class="m">0</span>
</pre></div>
</div>
<p>Si ya tuviéramos algún otro raid llamado md0, podemos crear un md diferente: md1, md2, …
Procedemos ahora a crear finalmente la RAID 0.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mdadm --create /dev/md0 --level<span class="o">=</span>raid0 --raid-devices<span class="o">=</span><span class="m">2</span> /dev/sda /dev/sdb
</pre></div>
</div>
<p>Para formatear la RAID utilizaremos el comando</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkfs: mkfs.ext4 /dev/md0
</pre></div>
</div>
<p>Podemos montarla en /mnt : mount /dev/md0 /mnt/</p>
<p>Para montar la RAID de forma automática cuando se inicia el ordenador, añadimos la siguiente línea al fichero /etc/fstab :</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>/dev/md0 /punto_de_montaje sistema_de_archivos defaults,user <span class="m">0</span>
</pre></div>
</div>
<p>Para cambiar un disco duro defectuoso:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo mdadm --remove /dev/md0 /dev/sda1
</pre></div>
</div>
<p>En el caso de que ya no este conectado, desde drbl se vería en cat /proc/mdstat como removed</p>
<p>usar sfdisk para clonar el esquema de partición. Para ello usaremos la opción -d de sfdisk</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sfdisk -d /dev/sdc <span class="p">|</span> sfdisk /dev/sda
mdadm --stop /dev/md127
rm /mdadm/mdadm.conf
mdadm --assemble --scan
mdadm --add /dev/md0 /dev/sda1 <span class="c1"># añadimos el nuevo</span>
watch cat /proc/mdstat <span class="c1"># podemos ver como se recuperan</span>
</pre></div>
</div>
</div>
<div class="section" id="lvm">
<h2>LVM<a class="headerlink" href="#lvm" title="Enlazar permanentemente con este título">¶</a></h2>
<p>LVM es una implementación de un administrador de volúmenes lógicos para sistemas GNU/Linux</p>
<a class="reference internal image-reference" href="../_images/lvm.png"><img alt="../_images/lvm.png" src="../_images/lvm.png" style="width: 400px;" /></a>
<ul class="simple">
<li><strong>PV</strong> (Phisical Volume): son los volúmenes físicos, es decir, discos duros o particiones de un equipo.</li>
<li><strong>VG</strong> (Volume Group): grupo volumen, es el área donde se juntan los PVs y VLs.</li>
<li><strong>LV</strong> (Logical Volume): volúmenes lógicos o dispositivos donde se pueden crear sistemas de ficheros o FS</li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pvcreate /dev/sdb2 <span class="c1"># Crear volumen físico</span>
pvremove /dev/sdc1 <span class="c1"># Borrado de volúmen físico</span>
pvdisplay <span class="c1"># Mostrar información</span>
vgcreate DatosLVM /dev/sdb2 /dev/sda1 <span class="c1"># Crear grupo de volúmenes</span>
vgremove DatosLVM <span class="c1"># Borrado de grupo de volúmenes</span>
vgdisplay <span class="c1"># Mostrar información</span>
lvcreate --name ruta --size 500M DatosLVM <span class="c1"># Crear volumen lógico</span>
lvremove /dev/DatosLVM/ruta <span class="c1"># Borrado de grupo de volúmenes</span>
lvdisplay <span class="c1"># Mostrar información</span>
</pre></div>
</div>
</div>
<div class="section" id="nas">
<h2>NAS<a class="headerlink" href="#nas" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Un «NAS» (Network Attached Storage,es un dispositivo de almacenamiento conectado a una red que permite a varios usuarios acceder a los datos almacenados en él. Estos dispositivos suelen ser fáciles de configurar y administrar, y son ideales para su uso en pequeñas redes. El NAS se utiliza generalmente para compartir archivos, copias de seguridad, almacenamiento multimedia y otros datos.</p>
<img alt="../_images/nas.png" src="../_images/nas.png" />
</div>
<div class="section" id="san">
<h2>SAN<a class="headerlink" href="#san" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Una red de área de almacenamiento, en inglés SAN (Storage Area Network), es una red de almacenamiento dedicada que conecta varios servidores y dispositivos de almacenamiento en una sola red. El SAN se utiliza principalmente para aplicaciones empresariales que requieren un alto rendimiento y una gran capacidad de almacenamiento. A diferencia de los NAS, los SAN suelen ser más complejos de configurar y administrar y están diseñados para satisfacer las necesidades de almacenamiento de grandes empresas.</p>
<img alt="../_images/san.png" src="../_images/san.png" />
<p>En resumen, un NAS es una solución de almacenamiento en red simple y económica, ideal para pequeñas y medianas empresas, mientras que un SAN es una solución de almacenamiento de alto rendimiento y escalable diseñada para satisfacer las necesidades de grandes empresas.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">dgtrabada</a></h1>








<h3>Navegación</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Búsqueda rápida</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Ir a" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, dgtrabada.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.8</a>
      
      |
      <a href="../_sources/hardware/raid.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>