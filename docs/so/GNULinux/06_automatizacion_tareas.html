
<!DOCTYPE html>


<html lang="es" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Automatización de tareas y servicios &#8212; dgtrabada</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!-- 
    this give us a css class that will be invisible only if js is disabled 
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/sphinx-book-theme.css?v=a3416100" />
  
  <!-- So that users can add custom icons -->
  <script src="../../_static/scripts/fontawesome.js?digest=26a4bc78f4c0ddb94549"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549" />

    <script src="../../_static/documentation_options.js?v=40e79d90"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script src="../../_static/translations.js?v=f85f4cfb"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'so/GNULinux/06_automatizacion_tareas';</script>
    <link rel="icon" href="../../_static/ico.png"/>
    <link rel="index" title="Índice" href="../../genindex.html" />
    <link rel="search" title="Búsqueda" href="../../search.html" />
    <link rel="next" title="Comandos avanzados" href="07_comandos_avanzados.html" />
    <link rel="prev" title="Apache" href="05_apache.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="es"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
  
  
    <p class="title logo__title">dgtrabada</p>
  
</a></div>
        <div class="sidebar-primary-item">

<button class="btn search-button-field search-button__button pst-js-only" title="Búsqueda" aria-label="Búsqueda" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Búsqueda</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../historia/index.html">Historia</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../historia/Introduccion.html">Introducción</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../historia/mecanicos.html">Dispositivos mecánicos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../historia/electricicidad.html">Transición, la electricicidad</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../historia/1gen.html">Primera generación</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../historia/2gen.html">Segunda generación</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../historia/3gen.html">Tercera generación</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../historia/4gen.html">Cuarta generación</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../historia/SXXI.html">SXXI</a></li>
</ul>
</details></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="../index.html">Sistemas Operativos</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2 has-children"><a class="reference internal" href="../../teoria/medida_representacion_informacion.html">Medida y representación de la información</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../teoria/sistema_anal%C3%B3gico_digital.html">Sistema analógico &amp; digital</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../teoria/medida_informacion.html">Medida de la información</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../teoria/representacion_informacion.html">Representación de la información</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../teoria/sistemas_numeracion.html">Sistemas de numeración</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../teoria/cambio_base_decimales.html">Cambio de base con decimales</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../teoria/sistemas_codificacion.html">Sistemas de codificación</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../teoria/imagen_digital.html">Imagen digital</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../fundamentos/index.html">Fundamentos de sistemas operativos</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../fundamentos/so_evolucion_sistema_operativo.html">Evolución del Sistema Operativo</a></li>
<li class="toctree-l3"><a class="reference internal" href="../fundamentos/so_licencias.html">Tipos software y licencias</a></li>
<li class="toctree-l3"><a class="reference internal" href="../fundamentos/sistemas_operativos.html">Sistemas operativos</a></li>
<li class="toctree-l3"><a class="reference internal" href="../fundamentos/gestion_procesos.html">Gestión de procesos</a></li>
<li class="toctree-l3"><a class="reference internal" href="../fundamentos/gestion_memoria.html">Gestión de memoria</a></li>
<li class="toctree-l3"><a class="reference internal" href="../fundamentos/sistema_archivos.html">Sistema de archivos</a></li>
<li class="toctree-l3"><a class="reference internal" href="../fundamentos/gestion_arranque.html">Gestión arranque</a></li>
</ul>
</details></li>
<li class="toctree-l2"><a class="reference internal" href="../maquinas_virtuales.html">La virtualización</a></li>
<li class="toctree-l2"><a class="reference internal" href="../particiones.html">Particiones</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../hardware/raid.html">RAID</a></li>
<li class="toctree-l2 current active has-children"><a class="reference internal" href="index.html">GNU/Linux</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="00_historia.html">Historia GNU/Linux</a></li>
<li class="toctree-l3"><a class="reference internal" href="01_comandos_basicos.html">Comandos básicos GNU/Linux</a></li>
<li class="toctree-l3"><a class="reference internal" href="02_permisos.html">Permisos en GNU/Linux</a></li>
<li class="toctree-l3"><a class="reference internal" href="03_usuarios.html">Usuarios y grupos GNU/Linux</a></li>
<li class="toctree-l3"><a class="reference internal" href="04_ssh.html">SSH</a></li>
<li class="toctree-l3"><a class="reference internal" href="05_samba.html">Samba</a></li>
<li class="toctree-l3"><a class="reference internal" href="05_apache.html">Apache</a></li>
<li class="toctree-l3 current active"><a class="current reference internal" href="#">Automatización de tareas y servicios</a></li>
<li class="toctree-l3"><a class="reference internal" href="07_comandos_avanzados.html">Comandos avanzados</a></li>
<li class="toctree-l3"><a class="reference internal" href="08_NIS.html">NIS</a></li>
<li class="toctree-l3"><a class="reference internal" href="09_GNULinux_NFS.html">NFS</a></li>
<li class="toctree-l3"><a class="reference internal" href="10_slurm.html">Slurm</a></li>
<li class="toctree-l3"><a class="reference internal" href="11_modules.html">Environment modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="12_ansible.html">Ansible</a></li>
<li class="toctree-l3"><a class="reference internal" href="13_ldap.html">LDAP</a></li>
<li class="toctree-l3"><a class="reference internal" href="14_rockylinux.html">Rocky Linux</a></li>
<li class="toctree-l3"><a class="reference internal" href="15_shell_scripting.html">Shell Scripting</a></li>
<li class="toctree-l3"><a class="reference internal" href="15_ejercicios_shell_scripting.html">Ejercicios de shell scripting</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../windows/index.html">Windows</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../windows/01_historia.html">Historia de Windows</a></li>
<li class="toctree-l3"><a class="reference internal" href="../windows/02_configuracion.html">Configuración Windows</a></li>
<li class="toctree-l3"><a class="reference internal" href="../windows/03_usuarios_grupos.html">Usuarios y grupos Windows</a></li>
<li class="toctree-l3"><a class="reference internal" href="../windows/04_arranque.html">Arranque de Windows</a></li>
<li class="toctree-l3"><a class="reference internal" href="../windows/05_comandos_dos.html">Comandos ms-dos</a></li>
<li class="toctree-l3"><a class="reference internal" href="../windows/06_powershell.html">PowerShell</a></li>
<li class="toctree-l3"><a class="reference internal" href="../windows/07_AD_DS.html">Active Directory Domain Services (AD DS)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../windows/08_Caso_practico_AD.html">Casos prácticos : Active Directory con adaptador puente</a></li>
<li class="toctree-l3"><a class="reference internal" href="../windows/08_Caso_practico_AD_redint.html">Casos prácticos : Active Directory con red interna</a></li>
<li class="toctree-l3"><a class="reference internal" href="../windows/09_Caso_practico_AD_sin_GUI.html">Casos prácticos : Active Directory sin GUI</a></li>
<li class="toctree-l3"><a class="reference internal" href="../windows/10_powershell_scripting.html">PowerShell Scripting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../windows/10_ejercicios_powershell.html">Ejercicios de PowerShell</a></li>
<li class="toctree-l3"><a class="reference internal" href="../windows/11_bat.html">Scripting .bat</a></li>
</ul>
</details></li>
<li class="toctree-l2"><a class="reference internal" href="../clonacion.html">Clonación</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../hardware/index.html">Hardware</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../teoria/medida_representacion_informacion.html">Medida y representación de la información</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../teoria/sistema_anal%C3%B3gico_digital.html">Sistema analógico &amp; digital</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../teoria/medida_informacion.html">Medida de la información</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../teoria/representacion_informacion.html">Representación de la información</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../teoria/sistemas_numeracion.html">Sistemas de numeración</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../teoria/cambio_base_decimales.html">Cambio de base con decimales</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../teoria/sistemas_codificacion.html">Sistemas de codificación</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../teoria/imagen_digital.html">Imagen digital</a></li>
</ul>
</details></li>
<li class="toctree-l2"><a class="reference internal" href="../../hardware/mantenimiento.html">Mantenimiento de sistemas informáticos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../hardware/bios.html">BIOS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../hardware/uefi.html">UEFI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../hardware/diccionario.html">Diccionario de la BIOS/UEFI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../hardware/dispositivos_alamacenamiento.html">Dispositivos de almacenamiento</a></li>
<li class="toctree-l2"><a class="reference internal" href="../particiones.html">Particiones</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../hardware/buses.html">Buses y conectores de datos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../hardware/raid.html">RAID</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../hardware/historia_microsprocesador.html">Breve historia del procesador</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../hardware/microprocesadores.html">Microprocesadores</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../hardware/encapsuladors.html">Encapsulados</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../hardware/ventilacion.html">Ventilación</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../hardware/ram.html">Memoria RAM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../hardware/conceptos_electronicos.html">Conceptos eléctricos - electrónicos y elementos básicos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../hardware/fuente_alimentacion.html">Fuentes de Alimentación</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../hardware/conectores_potencia.html">Cableado y conectores de potencia</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../hardware/sai.html">Sistemas de alimentación interrumpida</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../hardware/puertas_logicas.html">Puertas lógicas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../hardware/arquitectura.html">Arquitectura del ordenador</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../hardware/carcasa.html">La carcasa</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../hardware/placa_base.html">La placa base, el “chipset”, la EPROM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../hardware/conectores.html">Conectores y buses externos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../hardware/tarjetas.html">Tarjetas de expansión</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../hardware/perifericos.html">Periféricos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../hardware/cpd.html">Centro de Proceso de Datos (CPD)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../hardware/diagnostico.html">Herramientas de diagnostico</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../redes/index.html">Redes</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../redes/sistemas_comunicacion.html">Sistema de comunicación</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../redes/tipos_tecnicas_transmision_datos.html">Tipos y técnicas de transmisión de datos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../redes/sistemas_red.html">Sistemas en red</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../redes/medios_transmision.html">Medios de transmisión</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../redes/perturbaciones.html">Perturbaciones en la transmisión de datos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../redes/topologia.html">Topologías de red y modos de conexión</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../redes/redes_inalambricas.html">Tipos de redes 802.11</a></li>



<li class="toctree-l2"><a class="reference internal" href="../../redes/anquitectura_niveles.html">Arquitecturas basadas en niveles</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../redes/transporte_datos_equipos_interconexion.html">Transporte de datos y equipos de interconexión</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../redes/Direccionamiento_IP.html">Direccionamiento IP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../redes/casos_practicos.html">Casos prácticos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../redes/cableado_estructurado.html">Cableado Estructurado</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../odoo/index.html">Odoo</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../odoo/01_ERP-CRM.html">ERP-CRM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../odoo/02_odoo.html">Odoo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../odoo/03_Inf_empresa.html">Información de la empresa</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../odoo/04_taza_lapiz_camiseta.html">Taza, lápiz y camiseta</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../odoo/05_Directorio_fotos.html">Directorio Fotos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../odoo/06_instalacion_odoo.html">Instalación odoo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../odoo/07_Sitio_Web.html">Sitio Web</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../odoo/08_copia_seguridad.html">Copia de seguridad</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../odoo/09_Usuarios_sistema.html">Usuarios del sistema</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../odoo/10_empleados.html">Empleados</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../odoo/11_Inventario.html">Inventario</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../odoo/12_ventas.html">Ventas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../odoo/13_calendario.html">Calendario</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../odoo/14_proyecto.html">Proyecto</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../odoo/15_encuestas.html">Encuestas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../odoo/16_ausencias.html">Ausencias</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../odoo/17_tableros.html">Tableros</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../odoo/18_mantenimineto.html">Mantenimiento</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../odoo/19_notas.html">Notas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../odoo/20_crm.html">CRM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../odoo/21_flota.html">Flota</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../odoo/22_punto_venta.html">Punto de venta</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../odoo/23_restaurante.html">Restaurante</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../odoo/24_compra.html">Compra</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../odoo/25_reparaciones.html">Reparaciones</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../odoo/26_eventos.html">Eventos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../odoo/27_modulo.html">Crear un modulo/app</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../odoo/28_crear_campo.html">Crear campo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../odoo/29_infomod.html">Información del módulo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../odoo/30_selfenvuser.html">self.env.user</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../odoo/31_menuitem.html">Menuitem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../odoo/32_presentacion.html">Presentación</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../../python/index.html">Python</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Descarga esta pagina">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/so/GNULinux/06_automatizacion_tareas.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Descargar archivo fuente"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Imprimir en PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Modo de pantalla completa"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Búsqueda" aria-label="Búsqueda" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Automatización de tareas y servicios</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contenido </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#comando-at">Comando at</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#crontab">Crontab</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#systemd">Systemd</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#unit">[Unit]</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#service">[Service]</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#install">[Install]</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#los-targets">Los Targets</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#systemctl">Systemctl</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ejemplo-de-encadenamiento-de-servicios">Ejemplo de encadenamiento de servicios</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#acceder-a-los-registros-del-sistema">Acceder a los registros del sistema</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ejemplo-de-servicio-encendido">Ejemplo de servicio encendido</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="automatizacion-de-tareas-y-servicios">
<h1>Automatización de tareas y servicios<a class="headerlink" href="#automatizacion-de-tareas-y-servicios" title="Link to this heading">#</a></h1>
<section id="comando-at">
<h2>Comando at<a class="headerlink" href="#comando-at" title="Link to this heading">#</a></h2>
<p>Permite indicar el momento en que se quiere ejecutar un trabajo <code class="docutils literal notranslate"><span class="pre">at</span> <span class="pre">[opciones</span> <span class="pre">]</span> <span class="pre">TIME</span></code> , para ver los trabajos utilizamos <code class="docutils literal notranslate"><span class="pre">at</span> <span class="pre">-l</span></code> y para borrarlos <code class="docutils literal notranslate"><span class="pre">at</span> <span class="pre">-d</span></code> como se puede ver en el siguiente ejemplo:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>at<span class="w"> </span><span class="m">5</span>:00<span class="w"> </span>PM
at&gt;<span class="w"> </span>ls
at&gt;<span class="w"> </span>&lt;EOT&gt;
job<span class="w"> </span><span class="m">16</span><span class="w"> </span>at<span class="w"> </span>Tue<span class="w"> </span>Nov<span class="w"> </span><span class="m">14</span><span class="w"> </span><span class="m">17</span>:00:00<span class="w"> </span><span class="m">2023</span>
$<span class="w"> </span>at<span class="w"> </span><span class="m">7</span>:00<span class="w"> </span>PM
at&gt;<span class="w"> </span>ls
at&gt;<span class="w"> </span>&lt;EOT&gt;
job<span class="w"> </span><span class="m">17</span><span class="w"> </span>at<span class="w"> </span>Tue<span class="w"> </span>Nov<span class="w"> </span><span class="m">14</span><span class="w"> </span><span class="m">19</span>:00:00<span class="w"> </span><span class="m">2023</span>
$<span class="w"> </span>at<span class="w"> </span>-l
<span class="m">16</span><span class="w">      </span>Tue<span class="w"> </span>Nov<span class="w"> </span><span class="m">14</span><span class="w"> </span><span class="m">17</span>:00:00<span class="w"> </span><span class="m">2023</span><span class="w"> </span>a<span class="w"> </span>dani
<span class="m">17</span><span class="w">      </span>Tue<span class="w"> </span>Nov<span class="w"> </span><span class="m">14</span><span class="w"> </span><span class="m">19</span>:00:00<span class="w"> </span><span class="m">2023</span><span class="w"> </span>a<span class="w"> </span>dani
$<span class="w"> </span>at<span class="w"> </span>-d<span class="w"> </span><span class="m">16</span>
$<span class="w"> </span>at<span class="w"> </span>-l
<span class="m">17</span><span class="w">      </span>Tue<span class="w"> </span>Nov<span class="w"> </span><span class="m">14</span><span class="w"> </span><span class="m">19</span>:00:00<span class="w"> </span><span class="m">2023</span><span class="w"> </span>a<span class="w"> </span>dani
</pre></div>
</div>
<p>Al ejecutar at pasamos a un nuevo prompt, que nos permite introducir comandos que se ejecutarán a la hora indicada. Para guardar trabajo y salir: <strong>CTRL+D</strong> (guarda el entorno), el trabajo no para aunque se cierre la sesión.</p>
<p>Mas opciones:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>-f<span class="w"> </span>FILE<span class="w">  </span><span class="c1"># indica un fichero donde se encuentran las acciones a realizar.</span>

HH:MM<span class="w"> </span>-&gt;<span class="w"> </span><span class="m">12</span>:54
HH:MMAM/PM,<span class="w"> </span>-&gt;<span class="w"> </span><span class="m">1</span>:35PM
HH:MM<span class="w"> </span>MMDDYY<span class="w"> </span>-&gt;<span class="w"> </span><span class="m">1</span>:35PM<span class="w"> </span><span class="m">122505</span>
now<span class="w"> </span>+<span class="w"> </span>num<span class="w"> </span>-&gt;<span class="w"> </span>at<span class="w"> </span>now+2hours
num<span class="w"> </span>puede<span class="w"> </span>ser<span class="w"> </span>minutos,<span class="w"> </span>horas,<span class="w"> </span>días,<span class="w"> </span>semanas,<span class="w"> </span>...
today,<span class="w"> </span>tomorrow<span class="w"> </span>-&gt;<span class="w"> </span><span class="m">22</span>:44tomorrow
</pre></div>
</div>
<p>Control de acceso: /etc/at.allow, /etc/at.deny</p>
</section>
<section id="crontab">
<h2>Crontab<a class="headerlink" href="#crontab" title="Link to this heading">#</a></h2>
<p>Cron se emplea para ejecución de trabajos periódicos, utilizamos el comando crontab para configurar los procesos a ejecutar , para modificarlo utilizaremos:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>crontab<span class="w"> </span>-e<span class="w">    </span><span class="c1">#edita el fichero crontab</span>
crontab<span class="w"> </span>-l<span class="w">    </span><span class="c1">#muestra el fichero crontab</span>
crontab<span class="w"> </span>-r<span class="w">    </span><span class="c1">#borra el fichero crontab</span>
</pre></div>
</div>
<p>Ejemplo de lineas en el crontab:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="m">01</span><span class="w"> </span>*<span class="w"> </span>*<span class="w"> </span>*<span class="w"> </span>*<span class="w">  </span>date<span class="w"> </span>&gt;<span class="w"> </span>~/log
<span class="m">02</span><span class="w"> </span><span class="m">4</span><span class="w"> </span>*<span class="w"> </span>*<span class="w"> </span>*<span class="w">  </span>/ruta/al/script.sh
</pre></div>
</div>
<p>Formato de Configuración: El formato general para programar tareas en crontab sigue este patrón: <code class="docutils literal notranslate"><span class="pre">minuto</span> <span class="pre">hora</span> <span class="pre">díaDelMes</span> <span class="pre">mes</span> <span class="pre">díaDeLaSemana</span> <span class="pre">comando</span></code>.</p>
<ul class="simple">
<li><p><strong>minuto</strong>: Minuto en el que se ejecutará la tarea (0-59).</p></li>
<li><p><strong>hora</strong>: Hora en la que se ejecutará la tarea (0-23).</p></li>
<li><p><strong>díaDelMes</strong>: Día del mes en el que se ejecutará la tarea (1-31).</p></li>
<li><p><strong>mes</strong>: Mes en el que se ejecutará la tarea (1-12).</p></li>
<li><p><strong>díaDeLaSemana</strong>: Día de la semana en el que se ejecutará la tarea (0-6, donde 0 es domingo).</p></li>
<li><p><strong>comando</strong>: Comando o script que se ejecutará.</p></li>
</ul>
<p>Ejemplos:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="m">01</span><span class="w"> </span>*<span class="w"> </span>*<span class="w"> </span>*<span class="w"> </span>*<span class="w">       </span>Se<span class="w"> </span>ejecuta<span class="w"> </span>al<span class="w"> </span>minuto<span class="w"> </span><span class="m">1</span><span class="w"> </span>de<span class="w"> </span>cada<span class="w"> </span>hora<span class="w"> </span>de<span class="w"> </span>todos<span class="w"> </span>los<span class="w"> </span>días
<span class="m">15</span><span class="w"> </span><span class="m">8</span><span class="w"> </span>*<span class="w"> </span>*<span class="w"> </span>*<span class="w">       </span>A<span class="w"> </span>las<span class="w"> </span><span class="m">8</span>:15<span class="w"> </span>a.m.<span class="w"> </span>de<span class="w"> </span>cada<span class="w"> </span>día
<span class="m">15</span><span class="w"> </span><span class="m">20</span><span class="w"> </span>*<span class="w"> </span>*<span class="w"> </span>*<span class="w">      </span>A<span class="w"> </span>las<span class="w"> </span><span class="m">8</span>:15<span class="w"> </span>p.m.<span class="w"> </span>de<span class="w"> </span>cada<span class="w"> </span>día
<span class="m">00</span><span class="w"> </span><span class="m">5</span><span class="w"> </span>*<span class="w"> </span>*<span class="w"> </span><span class="m">0</span><span class="w">       </span>A<span class="w"> </span>las<span class="w"> </span><span class="m">5</span><span class="w"> </span>a.m.<span class="w"> </span>todos<span class="w"> </span>los<span class="w"> </span>domingos
*<span class="w"> </span><span class="m">5</span><span class="w"> </span>*<span class="w"> </span>*<span class="w"> </span>Sun<span class="w">      </span>Cada<span class="w"> </span>minuto<span class="w"> </span>de<span class="w"> </span><span class="m">5</span>:00a.m.<span class="w"> </span>a<span class="w"> </span><span class="m">5</span>:59a.m.<span class="w"> </span>todos<span class="w"> </span>los<span class="w"> </span>domingos
<span class="m">45</span><span class="w"> </span><span class="m">19</span><span class="w"> </span><span class="m">1</span><span class="w"> </span>*<span class="w"> </span>*<span class="w">      </span>A<span class="w"> </span>las<span class="w"> </span><span class="m">7</span>:45<span class="w"> </span>p.m.<span class="w"> </span>del<span class="w"> </span>primero<span class="w"> </span>de<span class="w"> </span>cada<span class="w"> </span>mes
<span class="m">01</span><span class="w"> </span>*<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">7</span><span class="w"> </span>*<span class="w">      </span>Al<span class="w"> </span>minuto<span class="w"> </span><span class="m">1</span><span class="w"> </span>de<span class="w"> </span>cada<span class="w"> </span>hora<span class="w"> </span>del<span class="w"> </span><span class="m">20</span><span class="w"> </span>de<span class="w"> </span>julio
<span class="m">10</span><span class="w"> </span><span class="m">1</span><span class="w"> </span>*<span class="w"> </span><span class="m">12</span><span class="w"> </span><span class="m">1</span><span class="w">      </span>A<span class="w"> </span>la<span class="w"> </span><span class="m">1</span>:10<span class="w"> </span>a.m.<span class="w"> </span>todos<span class="w"> </span>los<span class="w"> </span>lunes<span class="w"> </span>de<span class="w"> </span>diciembre
<span class="m">00</span><span class="w"> </span><span class="m">12</span><span class="w"> </span><span class="m">16</span><span class="w"> </span>*<span class="w"> </span>Wen<span class="w">   </span>Al<span class="w"> </span>mediodía<span class="w"> </span>de<span class="w"> </span>los<span class="w"> </span>días<span class="w"> </span><span class="m">16</span><span class="w"> </span>de<span class="w"> </span>cada<span class="w"> </span>mes<span class="w"> </span>y<span class="w"> </span>que<span class="w"> </span>sea<span class="w"> </span>Miércoles
<span class="m">30</span><span class="w"> </span><span class="m">9</span><span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">7</span><span class="w"> </span><span class="m">4</span><span class="w">      </span>A<span class="w"> </span>las<span class="w"> </span><span class="m">9</span>:30<span class="w"> </span>a.m.<span class="w"> </span>del<span class="w"> </span>dia<span class="w"> </span><span class="m">20</span><span class="w"> </span>de<span class="w"> </span>julio<span class="w"> </span>y<span class="w"> </span>que<span class="w"> </span>sea<span class="w"> </span>jueves
<span class="m">30</span><span class="w"> </span><span class="m">9</span><span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">7</span><span class="w"> </span>*<span class="w">      </span>A<span class="w"> </span>las<span class="w"> </span><span class="m">9</span>:30<span class="w"> </span>a.m.<span class="w"> </span>del<span class="w"> </span>dia<span class="w"> </span><span class="m">20</span><span class="w"> </span>de<span class="w"> </span>julio<span class="w"> </span>sin<span class="w"> </span>importar<span class="w"> </span>el<span class="w"> </span>día<span class="w"> </span>de<span class="w"> </span>la<span class="w"> </span>semana
<span class="m">20</span><span class="w"> </span>*<span class="w"> </span>*<span class="w"> </span>*<span class="w"> </span><span class="m">6</span><span class="w">       </span>Al<span class="w"> </span>minuto<span class="w"> </span><span class="m">20</span><span class="w"> </span>de<span class="w"> </span>cada<span class="w"> </span>hora<span class="w"> </span>de<span class="w"> </span>los<span class="w"> </span>sábados
<span class="m">20</span><span class="w"> </span>*<span class="w"> </span>*<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">6</span><span class="w">       </span>Al<span class="w"> </span>minuto<span class="w"> </span><span class="m">20</span><span class="w"> </span>de<span class="w"> </span>cada<span class="w"> </span>hora<span class="w"> </span>de<span class="w"> </span>los<span class="w"> </span>sábados<span class="w"> </span>de<span class="w"> </span>enero
</pre></div>
</div>
<p>Ejemplo que se ejecute cada minuto:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>crontab<span class="w"> </span>-l
*<span class="w"> </span>*<span class="w"> </span>*<span class="w"> </span>*<span class="w"> </span>*<span class="w"> </span>/root/encendido.sh
</pre></div>
</div>
<p>El programa cron se invoca cada minuto y ejecuta las tareas que sus campos se cumplan en ese preciso minuto.</p>
<p>Ejemplo de la utilización de rsync para hacer copias de seguridad</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>rsync<span class="w"> </span>-av<span class="w"> </span>--delete<span class="w"> </span>/home/dani<span class="w"> </span>/media/dani/Backup/
rsync<span class="w"> </span>-av<span class="w"> </span>--delete<span class="w"> </span>-e<span class="w"> </span><span class="s1">&#39;ssh -p22&#39;</span><span class="w"> </span>dani@IP:/home/dani/<span class="w"> </span>/media/dani/Backup/
</pre></div>
</div>
</section>
<section id="systemd">
<h2>Systemd<a class="headerlink" href="#systemd" title="Link to this heading">#</a></h2>
<p>Antiguamente se utilizaba el proceso init,  este es el proceso “padre”, es el primer proceso que se ejecuta al iniciar el sistema(es lanzado directamente por el kernel), y se encarga de lanzar todos los demás procesos.</p>
<p>Hace ya tiempo salio la noticia de que Ubuntu cambiaría su sistema init por Upstart, esto ocurrirá con la versión de Ubuntu 15.04 Vivid Vervet. El demonio init tradicional es estrictamente síncrono, bloqueando futuras tareas hasta que la actual se haya completado. Sus tareas deben ser definidas por adelantado, y solo pueden ser ejecutadas cuando el demonio init cambia de estado (cuando la máquina se arranca o se apaga).</p>
<p>Hoy en día Ubuntu ha cambiado upstart por Systemd. Systemd está hecho para proveer un mejor framework para expresar las dependencias del servicio, permite hacer más trabajo paralelamente al inicio del sistema y reducir la sobrecarga del shell. El nombre viene del sufijo system daemon (procesos en segundo plano) con la letra “d”.
Lo podemos comprobar:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>ls<span class="w"> </span>/sbin/init<span class="w"> </span>-l
lrwxrwxrwx<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span><span class="m">20</span><span class="w"> </span>sep<span class="w"> </span><span class="m">17</span><span class="w"> </span><span class="m">10</span>:35<span class="w"> </span>/sbin/init<span class="w"> </span>-&gt;<span class="w"> </span>/lib/systemd/systemd
</pre></div>
</div>
<p>Systemd remplaza a la secuencia de arranque de Linux y los niveles de ejecución controlados por el demonio de inicio tradicional , junto con la ejecución de los scripts bajo su control.</p>
<p>En systemd el primer demonio de ejecución se llama precisamente systemd y es el que tiene PID 1.</p>
<p>En systemd los servicios se denominan units. Cada unit se define en un archivo donde se especifica un proceso para arrancar por systemd. Evidentemente el arranque de un unit puede estar supeditado a determindas circunstancias como la dependencia de otros units.</p>
<p>Existen varios tipos de <strong>units</strong>, no sólo servicios, cuyos archivos se nombran con la extensión correspondiente:</p>
<ul class="simple">
<li><p>servicios (.service)</p></li>
<li><p>puntos de montaje (.mount)</p></li>
<li><p>dispositivos (.device)</p></li>
<li><p>sockets (.socket)</p></li>
</ul>
<p>Los archivos que definen los units (y los targets) se pueden encontrar básicamente en tres ubicaciones distintas:</p>
<ul class="simple">
<li><p><strong>/usr/lib/systemd/system/</strong>: unidades distribuidas con paquetes RPM instalados.</p></li>
<li><p><strong>/run/systemd/system/</strong>: unidades creadas en tiempo de ejecución. Tiene precedencia sobre el directorio anterior.</p></li>
<li><p><strong>/etc/systemd/system/</strong>: unidades creadas y administradas por el administrador del sistema. Este directorio tiene precedencia sobre el directorio anterior.</p></li>
</ul>
<p>El formato de un archivo unit sigue unas reglas y nomenclatura específicas. Básicamente se divide en varias secciones se las cuales las principales son:</p>
<ul class="simple">
<li><p><strong>[Unit]</strong></p></li>
<li><p><strong>[Service]</strong></p></li>
<li><p><strong>[Install]</strong></p></li>
</ul>
<p>A continuación se indican esquemáticamente las opciones más importantes dentro de cada sección.</p>
<section id="unit">
<h3>[Unit]<a class="headerlink" href="#unit" title="Link to this heading">#</a></h3>
<p><strong>Description=&lt;descrición del unit&gt;</strong></p>
<p>Una descripción del servicio que se muestra al consultar el status del servicio.</p>
<p><strong>After=&lt;units&gt;</strong></p>
<p>Define el orden en el cual los unist se inician. El unit se inicia sólo después de que los units especificados en esta línea estén activos. La diferencia con Require es que After no activa explícitamente los units indicados aquí. La opción Before tiene la funcionalidad opuesta a After.</p>
<p><strong>Requires=&lt;units&gt;</strong></p>
<p>Configuras las dependencias sobre otras units. Los units listados aquí serán activados junto con este unit. Si alguno de los units requeridos falla en el arranque, este unit tampoco se activa.</p>
<p><strong>Wants=&lt;units&gt;</strong></p>
<p>Activa los units indicados aquí. Wants configura dependencias de manera más débil que Require. Si alguno de los units indicados por Wants no se inician correctamente no tienen ningún efecto en el estado de este unit. Wants es la manera recomendada para establecer dependencias personalizadas.</p>
<p><strong>Conflicts=&lt;units&gt;</strong></p>
<p>Configura dependencias negativas, es decir, es un opuesto a Requires. El servicio no se inicia si el servicio indicado en esta línea está activo.</p>
</section>
<section id="service">
<h3>[Service]<a class="headerlink" href="#service" title="Link to this heading">#</a></h3>
<p><strong>TimeoutStartSec=&lt;n&gt;</strong></p>
<p>Tiempo tras el cuál, si el servicio no ha arrancado, se considera fallo y se detiene.</p>
<p><strong>ExecStart=&lt;ejecutable&gt;</strong></p>
<p>comando a ejecutar.</p>
<p><strong>Type=&lt;opción&gt;</strong></p>
<p>Configura el tipo de arranque del procesos de la unidad la cual afecta a la funcionalidad ExecStart. Las opciones son:</p>
<ul class="simple">
<li><p><strong>simple</strong> – Es el valor por defecto. El proceso arrancado con ExecStart es el proceso principal del servicio. Este proceso se arranca inmediatamente. El proceso no debe desencadenar otros procesos que requieran ejecución en el algún orden. No utilizar este tipo si otros servicios necesitan ejecutarse en orden con él.</p></li>
<li><p><strong>forking</strong> – El proceso iniciado con ExecStart genera un proceso hijo que se convierte en el proceso principal del servicio. Se sale del proceso padre cuando el arranque se completa. El uso de esta opción es importante cuando ejecutamos un script que a su vez ejecuta otros procesos. Sin la opción forking estos subprocesos podrían salir inesperadamente al concluir el proceso principal.</p></li>
<li><p><strong>oneshot</strong> – Similar a simple, pero se sale del proceso antes de que se arranquen los subsiguientes units. Es útil para la ejecución de scripts que hacen un trabajo sencillo y luego salen. Con la opción RemainAfterExit=yes systemd considerará su proceso como activo después de que el proceso haya salido.</p></li>
<li><p><strong>dbus</strong> – Similar a simple, pero los subsiguientes units sólo son arrancados después de que el proceso principal adquiera un nombre D-Bus.</p></li>
<li><p><strong>notify</strong> – Similar a simple, pero los subsiguientes units sólo son arrancados después de que un mensaje de notificación se haya enviado mediante una función sd_notify().</p></li>
<li><p><strong>idle</strong> – Similar a simple, la ejecución actual del binario del servicio se retrasa hasta que todos los trabajos se terminan, lo que evita la mezcla de la salida de estados con las salidas de los servicios por la Shell.</p></li>
</ul>
</section>
<section id="install">
<h3>[Install]<a class="headerlink" href="#install" title="Link to this heading">#</a></h3>
<p><strong>WantedBy=multi-user.target</strong></p>
<p>Indica el target al que pertenece este unit. Esto provoca que el comando systemctl enable &lt;servicio&gt;.service cree los enlaces simbólicos necesarios dentro del target multi-user.target.wants sin necesidad de hacerlo manualmente.</p>
<p>Lo que se consigue con esto es que el servicio se ejecute automáticamente al arrancar se target.</p>
</section>
</section>
<section id="los-targets">
<h2>Los Targets<a class="headerlink" href="#los-targets" title="Link to this heading">#</a></h2>
<p>Un conjunto de units definen un target. El target es el equivalente al concepto de runlevel, es decir un conjunto de servicios que se ejecutan en determinadas circunstancias. Así por ejemplo, el runlevel 3 de System V corresponde al target multi-user.target en systemd y el runlevel 5 correspondería al target llamado  graphical.target 0 # Apaga el sistema</p>
<ul class="simple">
<li><p>1, Mono usuario #Modo mono-usuario</p></li>
<li><p>2, 4 Modo de inicio definido por el usuario/sistema, por default identico a 3</p></li>
<li><p>3 Multiusuario, entorno grafico</p></li>
<li><p>5 Multiusuario, entorno grafico, todos los servicios del nivel 3 mas un entorno grafico</p></li>
<li><p>6 Reinicio</p></li>
</ul>
<p>reinicio #Shell de emergencia</p>
<p>A diferencia de los runlevels, los targests se pueden ejecutar a la vez.</p>
</section>
<section id="systemctl">
<h2>Systemctl<a class="headerlink" href="#systemctl" title="Link to this heading">#</a></h2>
<p>En Systemd la forma de controlar los servicios del sistema cambia. Los servicios ya no se controlan a través de /etc/init.d y tampoco se utiliza el comando “service”. Aquí se utiliza el gestor de servicios llamado <strong>systemctl</strong>.</p>
<p>La principal orden para controlar systemd es systemctl. systemctl sustituye a chkconfig de System V.</p>
<p>systenctl es una herramienta potente con muchas opciones. A continuación se listan los más importantes atendiendo su funcionalidad.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>systemctl<span class="w">                              </span><span class="c1">#Lista servicios y unidades disponibles en el sistema.</span>
systemctl<span class="w"> </span>list-unit-files<span class="w">              </span><span class="c1">#Lista ficheros de unidades</span>
systemctl<span class="w"> </span>list-units<span class="w">                   </span><span class="c1">#Lista servicios disponibles q</span>
systemctl<span class="w"> </span>list-dependencies<span class="w"> </span>&lt;servicio&gt;<span class="w"> </span><span class="c1">#Lista las dependencias de un servicio</span>
systemctl<span class="w"> </span>show<span class="w"> </span>&lt;service&gt;<span class="w">               </span><span class="c1"># Visualizar las propiedades del unit.</span>
systemctl<span class="w"> </span>start<span class="w"> </span>&lt;servicio&gt;<span class="w">             </span><span class="c1"># Arrancar servicios.</span>
systemctl<span class="w"> </span>stop<span class="w"> </span>&lt;servicio&gt;<span class="w">              </span><span class="c1"># Parar servicios.</span>
systemctl<span class="w"> </span>status<span class="w"> </span>&lt;service&gt;<span class="w">             </span><span class="c1"># Visualiza el estado e información de un servicio.</span>
systemctl<span class="w"> </span>is-active<span class="w"> </span>&lt;service&gt;<span class="w">          </span><span class="c1"># Muestra simplemente si el servicio está activo</span>
systemctl<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>&lt;servicio&gt;<span class="w">            </span><span class="c1"># Habilita un servicio en el arranque.</span>
systemctl<span class="w"> </span>disable<span class="w"> </span>&lt;servicio&gt;<span class="w">           </span><span class="c1"># Deshabilita un servicio en el arranque.</span>
systemctl<span class="w"> </span>restart<span class="w"> </span>&lt;servicio&gt;<span class="w">           </span><span class="c1"># Reinicia un servicio.</span>
systemctl<span class="w"> </span>reload<span class="w"> </span>&lt;servicio&gt;<span class="w">            </span><span class="c1"># Recarga la configuración de un servicio si reiniciarlo</span>
systemctl<span class="w"> </span>mask<span class="w"> </span>&lt;servicio&gt;<span class="w">              </span><span class="c1"># Marca un servicio como completamente inarrancable</span>
</pre></div>
</div>
<p>Ejemplo :</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>service<span class="w"> </span>--status-all<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>ssh
<span class="w"> </span><span class="o">[</span><span class="w"> </span>+<span class="w"> </span><span class="o">]</span><span class="w">  </span>ssh

$<span class="w"> </span>systemctl<span class="w"> </span>stop<span class="w"> </span>ssh

$<span class="w"> </span>service<span class="w"> </span>--status-all<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>ssh
<span class="o">[</span><span class="w"> </span>-<span class="w"> </span><span class="o">]</span><span class="w">  </span>ssh

$<span class="w"> </span>systemctl<span class="w"> </span>start<span class="w"> </span>ssh
$<span class="w"> </span>service<span class="w"> </span>--status-all<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>ssh
<span class="o">[</span><span class="w"> </span>+<span class="w"> </span><span class="o">]</span><span class="w">  </span>ssh
</pre></div>
</div>
<section id="ejemplo-de-encadenamiento-de-servicios">
<h3>Ejemplo de encadenamiento de servicios<a class="headerlink" href="#ejemplo-de-encadenamiento-de-servicios" title="Link to this heading">#</a></h3>
<p>Servicio A personalizado se ejecuta automáticamente en el arranque con el target multi-user.target:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">[</span>Unit<span class="o">]</span>
<span class="nv">Description</span><span class="o">=</span>Servicio<span class="w"> </span>A
<span class="nv">Requires</span><span class="o">=</span>multi-user.target
<span class="o">[</span>Service<span class="o">]</span>
<span class="nv">Type</span><span class="o">=</span>simple
<span class="nv">ExecStart</span><span class="o">=</span>/bin/servicioA.sh
<span class="o">[</span>Install<span class="o">]</span>
<span class="nv">WantedBy</span><span class="o">=</span>multi-user.targe
</pre></div>
</div>
<p>Servicio A se ejecuta automáticamente con el arranque en el target multi-user.target. El servicio A una vez iniciado, lanza al servicio B:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">[</span>Unit<span class="o">]</span>
<span class="nv">Description</span><span class="o">=</span>Servicio<span class="w"> </span>A
<span class="nv">Requires</span><span class="o">=</span>multi-user.target
<span class="nv">Wants</span><span class="o">=</span>ServicioB.service
<span class="o">[</span>Service<span class="o">]</span>
<span class="nv">Type</span><span class="o">=</span>simple
<span class="nv">ExecStart</span><span class="o">=</span>/bin/servicioA.sh
<span class="o">[</span>Install<span class="o">]</span>
<span class="nv">WantedBy</span><span class="o">=</span>multi-user.target
</pre></div>
</div>
<p>servicio B</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">[</span>Unit<span class="o">]</span>
<span class="nv">Description</span><span class="o">=</span>Servicio<span class="w"> </span>B
<span class="o">[</span>Service<span class="o">]</span>
<span class="nv">Type</span><span class="o">=</span>simple
<span class="nv">ExecStart</span><span class="o">=</span>/bin/servicioB.sh
<span class="o">[</span>Install<span class="o">]</span>
</pre></div>
</div>
<p>Servicio A se ejecuta automáticdamnete con el arranque en el target multi-user.target. Una vez inicado el servicio A, éste lanza al servicio B cuando el servico A concluye:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">[</span>Unit<span class="o">]</span>
<span class="nv">Description</span><span class="o">=</span>Servicio<span class="w"> </span>A
<span class="nv">Requires</span><span class="o">=</span>multi-user.target
<span class="o">[</span>Service<span class="o">]</span>
<span class="nv">Type</span><span class="o">=</span>simple
<span class="nv">ExecStart</span><span class="o">=</span>/bin/servicioA.sh
<span class="nv">ExecStop</span><span class="o">=</span>/usr/bin/systemctl<span class="w"> </span>start<span class="w"> </span>ServicioB.service
<span class="o">[</span>Install<span class="o">]</span>
<span class="nv">WantedBy</span><span class="o">=</span>multi-user.target
</pre></div>
</div>
<p>servicio B</p>
</section>
<section id="acceder-a-los-registros-del-sistema">
<h3>Acceder a los registros del sistema<a class="headerlink" href="#acceder-a-los-registros-del-sistema" title="Link to this heading">#</a></h3>
<p>La forma básica de acceder a los registros del sistema es:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>journalctl<span class="w">                             </span><span class="c1"># cat /var/log/messages</span>
journalctl<span class="w"> </span>-f<span class="w">                          </span><span class="c1"># tail -f /var/log/messages</span>
journalctl<span class="w"> </span>--list-boots<span class="w">                </span><span class="c1"># Filtrar la salida de logs por boots</span>
journalctl<span class="w"> </span>-b<span class="w">                          </span><span class="c1"># Logs del boot actual</span>
journalctl<span class="w"> </span>-b<span class="w"> </span>-1<span class="w">                       </span><span class="c1"># Anteriores</span>
journalctl<span class="w"> </span>-k<span class="w">                          </span><span class="c1"># Ver los mensajes del kernel</span>
journalctl<span class="w"> </span>-n<span class="w">                          </span><span class="c1"># Filtrar por número de entradas</span>
journalctl<span class="w"> </span><span class="nv">_COMM</span><span class="o">=</span>NetworkManager<span class="w">        </span><span class="c1"># Filtras por ejecutables o programas</span>
journalctl<span class="w"> </span>/usr/sbin/NetworkManager<span class="w">    </span><span class="c1"># Filtrar por especificando la ruta</span>
journalctl<span class="w"> </span><span class="nv">_PID</span><span class="o">=</span><span class="m">2527</span><span class="w">                   </span><span class="c1"># Mostrar la salida por PID</span>
journalctl<span class="w"> </span><span class="nv">_UID</span><span class="o">=</span><span class="m">1001</span><span class="w">                   </span><span class="c1"># id de los usuarios</span>
journalctl<span class="w"> </span>--since<span class="w"> </span><span class="s1">&#39;30 min ago&#39;</span><span class="w">        </span><span class="c1"># Última media hora:</span>
journalctl<span class="w"> </span>/dev/sda<span class="w">                    </span><span class="c1"># Funcionamiento en nuestras unidades de discos duros</span>
journalctl<span class="w"> </span>--disk-usage<span class="w">                </span><span class="c1"># Ver el espacio que están ocupando</span>
systemctl<span class="w"> </span>list-units<span class="w"> </span>-t<span class="w"> </span>service<span class="w"> </span>--all<span class="w">  </span><span class="c1"># Filtrar la salida por servicios de systemd</span>
journalctl<span class="w"> </span>-u<span class="w"> </span>dbus.service<span class="w">             </span><span class="c1"># Si nos interesa uno en particular</span>

<span class="c1">#Filtrar por intervalos de tiempo</span>
journalctl<span class="w"> </span>--since<span class="w"> </span><span class="s1">&#39;yesterday&#39;</span><span class="w"> </span>--until<span class="w"> </span><span class="s1">&#39;02:00&#39;</span>
journalctl<span class="w"> </span>--since<span class="o">=</span><span class="s1">&#39;2015-02-29 00:01&#39;</span><span class="w"> </span>--until<span class="o">=</span><span class="s1">&#39;2015-03-29 00:01&#39;</span>
<span class="c1">#Filtrar por programas e intervalos</span>
journalctl<span class="w"> </span><span class="nv">_COMM</span><span class="o">=</span>firefox<span class="w"> </span>--since<span class="o">=</span><span class="s1">&#39;2015-02-29 00:01&#39;</span><span class="w"> </span>--until<span class="o">=</span><span class="s1">&#39;2015-03-29 00:01&#39;</span>
journalctl<span class="w"> </span>-u<span class="w"> </span>sshd.service<span class="w"> </span>--since<span class="o">=</span><span class="s1">&#39;2015-02-29 00:01&#39;</span><span class="w"> </span>--until<span class="o">=</span><span class="s1">&#39;2015-03-29 00:01&#39;</span>
</pre></div>
</div>
</section>
</section>
<section id="ejemplo-de-servicio-encendido">
<h2>Ejemplo de servicio encendido<a class="headerlink" href="#ejemplo-de-servicio-encendido" title="Link to this heading">#</a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>cat<span class="w"> </span>/root/encendido.sh
<span class="c1">#!/bin/bash</span>
date<span class="w"> </span>&gt;&gt;<span class="w"> </span>/root/encendido.log
</pre></div>
</div>
<p>Para que se inicie automáticamente utilizamos el sistema systemctl</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>cat<span class="w"> </span>/etc/systemd/system/encendido.service

<span class="o">[</span>Unit<span class="o">]</span>
<span class="nv">Description</span><span class="o">=</span>Inicia<span class="w"> </span>registro<span class="w"> </span>encendido
<span class="nv">After</span><span class="o">=</span>syslog.target

<span class="o">[</span>Service<span class="o">]</span>
<span class="nv">ExecStart</span><span class="o">=</span>/root/encendido.sh
<span class="nv">User</span><span class="o">=</span>root

<span class="o">[</span>Install<span class="o">]</span>
<span class="nv">WantedBy</span><span class="o">=</span>multi-user.target

$<span class="w"> </span>chmod<span class="w"> </span>+x<span class="w"> </span>/root/encendido.sh
$<span class="w"> </span>systemctl<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>encendido.service
$<span class="w"> </span>systemctl<span class="w"> </span>start<span class="w"> </span>encendido.service
$<span class="w"> </span>systemctl<span class="w"> </span>list-unit-files
</pre></div>
</div>
</section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="05_apache.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">anterior</p>
        <p class="prev-next-title">Apache</p>
      </div>
    </a>
    <a class="right-next"
       href="07_comandos_avanzados.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">siguiente</p>
        <p class="prev-next-title">Comandos avanzados</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contenido
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#comando-at">Comando at</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#crontab">Crontab</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#systemd">Systemd</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#unit">[Unit]</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#service">[Service]</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#install">[Install]</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#los-targets">Los Targets</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#systemctl">Systemctl</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ejemplo-de-encadenamiento-de-servicios">Ejemplo de encadenamiento de servicios</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#acceder-a-los-registros-del-sistema">Acceder a los registros del sistema</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ejemplo-de-servicio-encendido">Ejemplo de servicio encendido</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
Por dgtrabada
</p>

  </div>
  
  <div class="footer-item">
    

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../../_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549"></script>
<script defer src="../../_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>