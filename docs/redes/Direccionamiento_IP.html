
<!DOCTYPE html>


<html lang="es" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Direccionamiento IP &#8212; dgtrabada</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!-- 
    this give us a css class that will be invisible only if js is disabled 
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=a3416100" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=26a4bc78f4c0ddb94549"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549" />

    <script src="../_static/documentation_options.js?v=40e79d90"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script src="../_static/translations.js?v=f85f4cfb"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'redes/Direccionamiento_IP';</script>
    <link rel="icon" href="../_static/ico.png"/>
    <link rel="index" title="Índice" href="../genindex.html" />
    <link rel="search" title="Búsqueda" href="../search.html" />
    <link rel="next" title="Cableado Estructurado" href="cableado_estructurado.html" />
    <link rel="prev" title="Transporte de datos y equipos de interconexión" href="transporte_datos_equipos_interconexion.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="es"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
  
    <p class="title logo__title">dgtrabada</p>
  
</a></div>
        <div class="sidebar-primary-item">

<button class="btn search-button-field search-button__button pst-js-only" title="Búsqueda" aria-label="Búsqueda" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Búsqueda</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../historia/index.html">Historia</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../historia/Introduccion.html">Introducción</a></li>
<li class="toctree-l2"><a class="reference internal" href="../historia/mecanicos.html">Dispositivos mecánicos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../historia/electricicidad.html">Transición, la electricicidad</a></li>
<li class="toctree-l2"><a class="reference internal" href="../historia/1gen.html">Primera generación</a></li>
<li class="toctree-l2"><a class="reference internal" href="../historia/2gen.html">Segunda generación</a></li>
<li class="toctree-l2"><a class="reference internal" href="../historia/3gen.html">Tercera generación</a></li>
<li class="toctree-l2"><a class="reference internal" href="../historia/4gen.html">Cuarta generación</a></li>
<li class="toctree-l2"><a class="reference internal" href="../historia/SXXI.html">SXXI</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../so/index.html">Sistemas Operativos</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../teoria/medida_representacion_informacion.html">Medida y representación de la información</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../teoria/sistema_anal%C3%B3gico_digital.html">Sistema analógico &amp; digital</a></li>
<li class="toctree-l3"><a class="reference internal" href="../teoria/medida_informacion.html">Medida de la información</a></li>
<li class="toctree-l3"><a class="reference internal" href="../teoria/representacion_informacion.html">Representación de la información</a></li>
<li class="toctree-l3"><a class="reference internal" href="../teoria/sistemas_numeracion.html">Sistemas de numeración</a></li>
<li class="toctree-l3"><a class="reference internal" href="../teoria/cambio_base_decimales.html">Cambio de base con decimales</a></li>
<li class="toctree-l3"><a class="reference internal" href="../teoria/sistemas_codificacion.html">Sistemas de codificación</a></li>
<li class="toctree-l3"><a class="reference internal" href="../teoria/imagen_digital.html">Imagen digital</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../so/fundamentos/index.html">Fundamentos de sistemas operativos</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../so/fundamentos/so_evolucion_sistema_operativo.html">Evolución del Sistema Operativo</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/fundamentos/so_licencias.html">Tipos software y licencias</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/fundamentos/sistemas_operativos.html">Sistemas operativos</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/fundamentos/gestion_procesos.html">Gestión de procesos</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/fundamentos/gestion_memoria.html">Gestión de memoria</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/fundamentos/sistema_archivos.html">Sistema de archivos</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/fundamentos/gestion_arranque.html">Gestión arranque</a></li>
</ul>
</details></li>
<li class="toctree-l2"><a class="reference internal" href="../so/maquinas_virtuales.html">La virtualización</a></li>
<li class="toctree-l2"><a class="reference internal" href="../so/particiones.html">Particiones</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/raid.html">RAID</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../so/GNULinux/index.html">GNU/Linux</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../so/GNULinux/00_historia.html">Historia GNU/Linux</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/GNULinux/01_comandos_basicos.html">Comandos básicos GNU/Linux</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/GNULinux/02_permisos.html">Permisos en GNU/Linux</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/GNULinux/03_usuarios.html">Usuarios y grupos GNU/Linux</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/GNULinux/04_ssh.html">SSH</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/GNULinux/05_samba.html">Samba</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/GNULinux/05_apache.html">Apache</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/GNULinux/06_automatizacion_tareas.html">Automatización de tareas y servicios</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/GNULinux/07_comandos_avanzados.html">Comandos avanzados</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/GNULinux/08_NIS.html">NIS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/GNULinux/09_GNULinux_NFS.html">NFS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/GNULinux/10_slurm.html">Slurm</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/GNULinux/11_modules.html">Environment modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/GNULinux/12_ansible.html">Ansible</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/GNULinux/13_ldap.html">LDAP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/GNULinux/14_rockylinux.html">Rocky Linux</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/GNULinux/15_shell_scripting.html">Shell Scripting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/GNULinux/15_ejercicios_shell_scripting.html">Ejercicios de shell scripting</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../so/windows/index.html">Windows</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../so/windows/01_historia.html">Historia de Windows</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/windows/02_configuracion.html">Configuración Windows</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/windows/03_usuarios_grupos.html">Usuarios y grupos Windows</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/windows/04_arranque.html">Arranque de Windows</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/windows/05_comandos_dos.html">Comandos ms-dos</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/windows/06_powershell.html">PowerShell</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/windows/07_AD_DS.html">Active Directory Domain Services (AD DS)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/windows/08_Caso_practico_AD.html">Casos prácticos : Active Directory con adaptador puente</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/windows/08_Caso_practico_AD_redint.html">Casos prácticos : Active Directory con red interna</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/windows/09_Caso_practico_AD_sin_GUI.html">Casos prácticos : Active Directory sin GUI</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/windows/10_powershell_scripting.html">PowerShell Scripting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/windows/10_ejercicios_powershell.html">Ejercicios de PowerShell</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/windows/11_bat.html">Scripting .bat</a></li>
</ul>
</details></li>
<li class="toctree-l2"><a class="reference internal" href="../so/clonacion.html">Clonación</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../hardware/index.html">Hardware</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../teoria/medida_representacion_informacion.html">Medida y representación de la información</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../teoria/sistema_anal%C3%B3gico_digital.html">Sistema analógico &amp; digital</a></li>
<li class="toctree-l3"><a class="reference internal" href="../teoria/medida_informacion.html">Medida de la información</a></li>
<li class="toctree-l3"><a class="reference internal" href="../teoria/representacion_informacion.html">Representación de la información</a></li>
<li class="toctree-l3"><a class="reference internal" href="../teoria/sistemas_numeracion.html">Sistemas de numeración</a></li>
<li class="toctree-l3"><a class="reference internal" href="../teoria/cambio_base_decimales.html">Cambio de base con decimales</a></li>
<li class="toctree-l3"><a class="reference internal" href="../teoria/sistemas_codificacion.html">Sistemas de codificación</a></li>
<li class="toctree-l3"><a class="reference internal" href="../teoria/imagen_digital.html">Imagen digital</a></li>
</ul>
</details></li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/mantenimiento.html">Mantenimiento de sistemas informáticos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/bios.html">BIOS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/uefi.html">UEFI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/diccionario.html">Diccionario de la BIOS/UEFI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/dispositivos_alamacenamiento.html">Dispositivos de almacenamiento</a></li>
<li class="toctree-l2"><a class="reference internal" href="../so/particiones.html">Particiones</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/buses.html">Buses y conectores de datos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/raid.html">RAID</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/historia_microsprocesador.html">Breve historia del procesador</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/microprocesadores.html">Microprocesadores</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/encapsuladors.html">Encapsulados</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/ventilacion.html">Ventilación</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/ram.html">Memoria RAM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/conceptos_electronicos.html">Conceptos eléctricos - electrónicos y elementos básicos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/fuente_alimentacion.html">Fuentes de Alimentación</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/conectores_potencia.html">Cableado y conectores de potencia</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/sai.html">Sistemas de alimentación interrumpida</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/puertas_logicas.html">Puertas lógicas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/arquitectura.html">Arquitectura del ordenador</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/carcasa.html">La carcasa</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/placa_base.html">La placa base, el “chipset”, la EPROM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/conectores.html">Conectores y buses externos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/tarjetas.html">Tarjetas de expansión</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/perifericos.html">Periféricos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/cpd.html">Centro de Proceso de Datos (CPD)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/diagnostico.html">Herramientas de diagnostico</a></li>
</ul>
</details></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="index.html">Redes</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="sistemas_comunicacion.html">Sistema de comunicación</a></li>
<li class="toctree-l2"><a class="reference internal" href="tipos_tecnicas_transmision_datos.html">Tipos y técnicas de transmisión de datos</a></li>
<li class="toctree-l2"><a class="reference internal" href="sistemas_red.html">Sistemas en red</a></li>
<li class="toctree-l2"><a class="reference internal" href="medios_transmision.html">Medios de transmisión</a></li>
<li class="toctree-l2"><a class="reference internal" href="perturbaciones.html">Perturbaciones en la transmisión de datos</a></li>
<li class="toctree-l2"><a class="reference internal" href="topologia.html">Topologías de red y modos de conexión</a></li>
<li class="toctree-l2"><a class="reference internal" href="redes_inalambricas.html">Tipos de redes 802.11</a></li>



<li class="toctree-l2"><a class="reference internal" href="anquitectura_niveles.html">Arquitecturas basadas en niveles</a></li>
<li class="toctree-l2"><a class="reference internal" href="transporte_datos_equipos_interconexion.html">Transporte de datos y equipos de interconexión</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Direccionamiento IP</a></li>
<li class="toctree-l2"><a class="reference internal" href="cableado_estructurado.html">Cableado Estructurado</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../odoo/index.html">Odoo</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../odoo/01_ERP-CRM.html">ERP-CRM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/02_odoo.html">Odoo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/03_Inf_empresa.html">Información de la empresa</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/04_taza_lapiz_camiseta.html">Taza, lápiz y camiseta</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/05_Directorio_fotos.html">Directorio Fotos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/06_instalacion_odoo.html">Instalación odoo y backup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/07_Sitio_Web.html">Sitio Web</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/08_Usuarios_sistema.html">Usuarios del sistema</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/09_empleados.html">Empleados</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/10_copia_seguridad.html">Copia de seguridad</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/11_Inventario.html">Inventario</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/12_ventas.html">Ventas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/13_calendario.html">Calendario</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/14_proyecto.html">Proyecto</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/15_encuestas.html">Encuestas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/16_ausencias.html">Ausencias</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/17_tableros.html">Tableros</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/18_mantenimineto.html">Mantenimiento</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/19_notas.html">Notas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/20_crm.html">CRM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/21_flota.html">Flota</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/22_punto_venta.html">Punto de venta</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/23_restaurante.html">Restaurante</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/24_compra.html">Compra</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/25_reparaciones.html">Reparaciones</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/26_eventos.html">Eventos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/27_modulo.html">Crear un modulo/app</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/28_crear_campo.html">Crear campo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/29_infomod.html">Información del módulo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/30_selfenvuser.html">self.env.user</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/31_menuitem.html">Menuitem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/32_presentacion.html">Presentación</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../python/index.html">Python</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Descarga esta pagina">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/redes/Direccionamiento_IP.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Descargar archivo fuente"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Imprimir en PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Modo de pantalla completa"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Búsqueda" aria-label="Búsqueda" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Direccionamiento IP</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contenido </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#el-subnetting-ip">El subnetting IP</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cidr">CIDR</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ejemplos">Ejemplos</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tablas-de-encaminamiento">Tablas de Encaminamiento</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ejemplo-de-tabla-de-enrutamiento">Ejemplo de Tabla de Enrutamiento</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#caso-practico-router-cisco">Caso práctico: Router Cisco</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#caso-practico-router-cisco-dhcp">Caso práctico: Router Cisco (DHCP)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#caso-practico-router-cisco-cloud">Caso práctico: Router Cisco (Cloud)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#caso-practico-router-cisco-enrutamiento-estatico">Caso práctico: Router Cisco (Enrutamiento estático)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#caso-practico-router-mikrotik">Caso práctico: Router MikroTik</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#caso-practico-vyos">Caso práctico: Vyos</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="direccionamiento-ip">
<h1>Direccionamiento IP<a class="headerlink" href="#direccionamiento-ip" title="Link to this heading">#</a></h1>
<p>El direccionamiento IP es la parte encargada de asignar de forma correcta a cada equipo una dirección IP, de forma que los equipos puedan comunicarse correctamente entre sí</p>
<p>Las direcciones IPV4 se expresan mediante un número binario de 32 bits permitiendo un espacio de direcciones de hasta 4.294.967.296 (2<sup>32</sup>) direcciones posibles.</p>
<p>Se reservaron ciertos rangos de direcciones IP de las clases A, B y C para permitir su uso interno o privado en redes de área local (LAN) como por ejemplo las de una casa o una oficina.</p>
<img alt="../_images/clasesIP.png" src="../_images/clasesIP.png" />
<img alt="../_images/ip_clases.png" src="../_images/ip_clases.png" />
<p>Dirección de red (Network) es la primera dirección de una subred y se usa para identificarla. No se puede asignar a un host,La dirección de red se obtiene estableciendo todos los bits de la parte de host en 0, veamos el ejemplo con la siguiente IP de tipo B 128.192.244.240:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Address</span><span class="p">:</span>   <span class="mf">128.192.224.240</span>      <span class="mf">10000000.11000000</span><span class="o">.</span> <span class="mf">11100000.11110000</span>
<span class="n">Netmask</span><span class="p">:</span>   <span class="mf">255.255.0.0</span> <span class="o">=</span> <span class="mi">16</span>     <span class="mf">11111111.11111111</span><span class="o">.</span> <span class="mf">00000000.00000000</span>
<span class="n">Network</span><span class="p">:</span>   <span class="mf">128.192.0.0</span><span class="o">/</span><span class="mi">16</span>       <span class="mf">10000000.11000000</span><span class="o">.</span> <span class="mf">00000000.00000000</span>
<span class="n">HostMin</span><span class="p">:</span>   <span class="mf">128.192.0.1</span>          <span class="mf">10000000.11000000</span><span class="o">.</span> <span class="mf">00000000.00000001</span>
<span class="n">HostMax</span><span class="p">:</span>   <span class="mf">128.192.255.254</span>      <span class="mf">10000000.11000000</span><span class="o">.</span> <span class="mf">11111111.11111110</span>
</pre></div>
</div>
<p>La dirección de <strong>broadcast</strong> es la última dirección de una red IP y se usa para enviar mensajes a todos los dispositivos dentro de esa red.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Broadcast</span><span class="p">:</span> <span class="mf">128.192.255.255</span>      <span class="mf">10000000.11000000</span><span class="o">.</span> <span class="mf">11111111.11111111</span>
<span class="n">Hosts</span><span class="o">/</span><span class="n">Net</span><span class="p">:</span> <span class="mi">65534</span>                 <span class="n">Class</span> <span class="n">B</span>
</pre></div>
</div>
<p>Las redes privadas son bastante comunes en esquemas de redes de área local (LAN) de oficinas, empresas y ámbito doméstico, debido a que no tienen la necesidad de usar direcciones IP públicas en sus dispositivos y no son enrutables a través de Internet.</p>
<p>Las direcciones de Internet privadas son:</p>
<img alt="../_images/ip_privadas.png" src="../_images/ip_privadas.png" />
<p>Esta última red de clase B, pertenece a las direcciones APIPA (Automatic Private IP Addressing), también llamadas link-local en IPv4, queda reservada para equipos que tienen activa la configuración de la tarjeta de red automática (para que un servidor DHCP les responda y les ofrezca su configuración) y ningún servidor DHCP les responda (habitualmente este servidor está configurado en el enrutador), en ese caso estos equipos cogen aleatoriamente una ip de este rango de IP privadas para poder comunicarse con otros equipos de la red a los que tampoco les haya respondido el servidor DHCP.</p>
<section id="el-subnetting-ip">
<h2>El subnetting IP<a class="headerlink" href="#el-subnetting-ip" title="Link to this heading">#</a></h2>
<p>La subnetting (o subdivisión de redes) es una técnica utilizada para dividir una red de direcciones IP en subredes más pequeñas y eficientes. En otras palabras, se trata de dividir una red IP en varias subredes más pequeñas, para que los dispositivos puedan comunicarse de manera más eficiente.</p>
<p>Por tanto si tengo por ejemplo la dirección de host <strong>172.17</strong>.12.95 ya sabemos que es de <strong>clase B</strong> con mascara <strong>255.255.0.0</strong> y que pertenece a la red 172.17.0.0 sin necesidad de especificar máscara ninguna. Y esto es así porque el 172 inicial de la dirección pertenece a la clase B.</p>
<p>Ahora bien ¿Y si queremos disponer de redes más pequeñas que pertenezcan al espacio de direccionamiento 172.17.x.x?</p>
<p>Nada impide hacer lo siguiente:</p>
<ul class="simple">
<li><p><strong>172.17.1</strong>.0 con mascara 255.255.255.0</p></li>
<li><p><strong>172.17.2</strong>.0 con mascara 255.255.255.0</p></li>
<li><p><strong>172.17.3</strong>.0 con mascara 255.255.255.0</p></li>
<li><p>…</p></li>
</ul>
<p>Pero claro la red 172.17.1.0 255.255.255.0 no es en realidad una red de clase C, sino que con la máscara hemos definido una subred (subnet) de tipo C dentro de la red 172.17.0.0 que es una red tipo B y mucho más amplia.</p>
<p>Así pues este subnetting permite tener redes más pequeñas dentro de una red estándar mayor.
A nivel de routing todas esas subredes de tipo C quedan englobadas en una sola ruta de tipo B y el router de la red sólo necesita una ruta para el encaminamiento de estas subredes.</p>
<p>Además del subnetting, este juego con los bits de máscara permite hacer lo contrario que el subnetting y se llamó sumarizacion de redes IP.</p>
</section>
<section id="cidr">
<h2>CIDR<a class="headerlink" href="#cidr" title="Link to this heading">#</a></h2>
<p>Hoy en día, <strong>CIDR (Classless Inter-Domain Routing)</strong> es el estándar utilizado en redes IP para la asignación y gestión de direcciones, reemplazando en gran medida el sistema antiguo de clases A, B y C, en esencia, aplica lo mismo que el subnetting pero ampliando el concepto. En CIDR no existen clases A, B o C. El valor de la dirección IP no implica ninguna máscara implícita, como sucedía antes con los primeros bits de la dirección. <strong>En CIDR toda definición de una red IP debe ser acompañada de una definición de máscara que concreta la red.</strong></p>
<p>Por ejemplo, cuando hablamos en términos de CIDR no podemos decir que la dirección 172.17.25.12 pertenezca a la red 172.17.0.0 a menos que se especifique como 172.16.25.12/16.</p>
<p>En CIDR ya no hay clases como tal, sino redes definidas por el prefijo que acompaña a la dirección de red, utiliza la nomenclatura de barra invertida, del tipo /xx (donde xx representa los bits puestos a 1 de la máscara en binario) y está basada en lo que se denominó variable-length subnet masking (VLSM).</p>
<p>Así por ejemplo, hablando en términos de subnetting, podemos decir que la red:
172.17.11.25 con máscara 255.255.255.0 (que no es en realidad una red de clase C) es una subred (o subnet) de la red de clase B 172.17.0.0.</p>
<p>La dirección de red sigue siendo la que tiene todos los bits del host a 0, y la de broadcast a 1, se utiliza una máscara de red, realizando la operación AND con la dirección IP para encontrar la dirección de red, por ejemplo:</p>
<p>La dirección IP es 192.168.20.100/26</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Address</span><span class="p">:</span>   <span class="mf">192.168.20.100</span>       <span class="mf">11000000.10101000.00010100.01</span> <span class="mi">100100</span>
<span class="n">Netmask</span><span class="p">:</span>   <span class="mf">255.255.255.192</span> <span class="o">=</span> <span class="mi">26</span> <span class="mf">11111111.11111111.11111111.11</span> <span class="mi">000000</span>
                     <span class="n">AND</span>     <span class="o">---------------------------------------</span>
<span class="n">Network</span><span class="p">:</span>   <span class="mf">192.168.20.64</span><span class="o">/</span><span class="mi">26</span>     <span class="mf">11000000.10101000.00010100.01</span> <span class="mi">000000</span>

<span class="n">HostMin</span><span class="p">:</span>   <span class="mf">192.168.20.65</span>        <span class="mf">11000000.10101000.00010100.01</span> <span class="mi">000001</span>
<span class="n">HostMax</span><span class="p">:</span>   <span class="mf">192.168.20.126</span>       <span class="mf">11000000.10101000.00010100.01</span> <span class="mi">111110</span>
<span class="n">Broadcast</span><span class="p">:</span> <span class="mf">192.168.20.127</span>       <span class="mf">11000000.10101000.00010100.01</span> <span class="mi">111111</span>
<span class="n">Hosts</span><span class="o">/</span><span class="n">Net</span><span class="p">:</span> <span class="mi">62</span>                    <span class="n">Class</span> <span class="n">C</span><span class="p">,</span> <span class="n">Private</span> <span class="n">Internet</span>
</pre></div>
</div>
<p>Cuando divides una red en subredes más pequeñas, la <strong>primera subred</strong> (la que comienza con la dirección de red original) y la <strong>última subred</strong> (la que termina con la dirección de broadcast de la red original) a menudo se reservan. Esto se debe a que algunos equipos antiguos o protocolos podrían confundirse al manejar estas subredes, ya que sus direcciones coinciden con la red original y su broadcast.</p>
<section id="ejemplos">
<h3>Ejemplos<a class="headerlink" href="#ejemplos" title="Link to this heading">#</a></h3>
<ul>
<li><p><strong>¿ Qué máscara habría que aplicar para dividir la red 194.168.100.0 en 16 subredes ?</strong></p>
<p>La red 194.168.100.0 es una red de Clase C por defecto, lo que significa que su máscara de subred predeterminada es: 255.255.255.0 (o /24 en notación CIDR).</p>
<p><span class="math notranslate nohighlight">\(2^{n} \geq 16\)</span>, es decir <span class="math notranslate nohighlight">\(n \geq 4\)</span></p>
<p>tomamos los 4 primeros bits</p>
<p><strong>1111</strong> 0000 = <strong>128 + 64 + 32 + 16</strong> + 0*8 + 4*0 + 2*0 + 1*0 = 240</p>
<p>es decir 194.168.100.0/28 (255.255.255.240)</p>
<p>hay <span class="math notranslate nohighlight">\(2^{4}-2 = 14\)</span> hosts por subred</p>
<img alt="../_images/subred1.png" src="../_images/subred1.png" />
</li>
</ul>
<p><strong>VLSM (Máscara de Red de Longitud Variable)</strong> permite dividir un espacio de red en partes desiguales, es decir, la mascara de subred de una dirección IP  variara según la cantidad de bits que se tomen prestados para una subred especifica, se conoce también como división de subredes en subredes. Veamos el siguiente ejemplo:</p>
<ul>
<li><p><strong>Una empresa compra una red con direcciones IP públicas de clase C 200.1.1.0. Las quiere repartir entre sus 8 departamentos. En el caso de que haga un subnetting sin VLSM, quedaría</strong> <span class="math notranslate nohighlight">\(2^{n} = 8\)</span>, <strong>es decir,</strong> <span class="math notranslate nohighlight">\(n = 3\)</span> <strong>(11100000).</strong></p>
<img alt="../_images/subred2.png" src="../_images/subred2.png" />
<p>Podemos hacer de nuevo subnetting con la primera subred, 200.1.1.0/27 para crear 4 subredes (/29)</p>
<img alt="../_images/subred3.png" src="../_images/subred3.png" />
</li>
<li><p><strong>Volvamos al caso anterior, 194.168.100.0 (Ejemplo de subneting clásico)</strong> y hagamos n=2, es decir 194.168.100.0/26 (255.255.255.192)</p>
<p>Hay <span class="math notranslate nohighlight">\(2^{6}-2 = 60\)</span> hosts por subred</p>
<img alt="../_images/subred4.png" src="../_images/subred4.png" />
<p>Vamos hacer sugneting con las 3 ultimas redes, tomaremos n=1,2,3</p>
<img alt="../_images/subred5.png" src="../_images/subred5.png" />
<img alt="../_images/subneting.png" src="../_images/subneting.png" />
</li>
</ul>
<p><strong>Ejemplo de direccionamiento VLSM para 192.168.0.0/24</strong></p>
<p>Vamos a optimizar el espacio de direcciones utilizando VLSM para cumplir con los siguientes requisitos:</p>
<ul class="simple">
<li><p>1 subred para 30 hosts (VLAN 1)</p></li>
<li><p>1 subred para 10 hosts (VLAN 2)</p></li>
<li><p>3 subredes para 2 hosts cada una (enlaces entre routers)</p></li>
</ul>
<ol class="arabic">
<li><p>Empezamos asignar la subred más grande <strong>(30 hosts)</strong>.</p>
<p>Para 30 hosts necesitamos: <span class="math notranslate nohighlight">\(2^{n} - 2 \geq 30\)</span> es decir n = 5</p>
<ul class="simple">
<li><p>Máscara: /27 (255.255.255.224)</p></li>
<li><p>Subred asignada: <strong>192.168.0.0/27</strong></p></li>
<li><p>Rango útil: 192.168.0.1 - 192.168.0.30  (<span class="math notranslate nohighlight">\(2^{5} - 2 = 30\)</span> hosts por red)</p></li>
<li><p>Broadcast: 192.168.0.31</p></li>
</ul>
</li>
<li><p>Asignamos la subred <strong>(10 hosts)</strong>.</p>
<p>Para 10 hosts necesitamos: <span class="math notranslate nohighlight">\(2^{n} - 2 \geq 10\)</span> es decir n = 4</p>
<ul class="simple">
<li><p>Máscara: /28 (255.255.255.240)</p></li>
<li><p>Subred asignada: <strong>192.168.0.32/28</strong></p></li>
<li><p>Rango útil: 192.168.0.33 - 192.168.0.46  (<span class="math notranslate nohighlight">\(2^{4} - 2 = 14\)</span> hosts por red)</p></li>
<li><p>Broadcast: 192.168.0.47</p></li>
</ul>
</li>
<li><p>Asignamos las tres subredes <strong>(2 hosts)</strong>.</p>
<p>Para 2 hosts necesitamos: <span class="math notranslate nohighlight">\(2^{n} - 2 \geq 2\)</span> es decir n = 2</p>
<ul>
<li><p>Máscara: /30 (255.255.255.252)</p></li>
<li><p>Subredes asignadas: (<span class="math notranslate nohighlight">\(2^{2} - 2 = 2\)</span> hosts por red)</p>
<ol class="arabic simple">
<li><p><strong>192.168.0.48/30</strong></p>
<ul class="simple">
<li><p>Rango útil: 192.168.0.49 - 192.168.0.50</p></li>
<li><p>Broadcast: 192.168.0.51</p></li>
</ul>
</li>
</ol>
<ol class="arabic simple">
<li><p><strong>192.168.0.52/30</strong></p>
<ul class="simple">
<li><p>Rango útil: 192.168.0.53 - 192.168.0.54</p></li>
<li><p>Broadcast: 192.168.0.55</p></li>
</ul>
</li>
</ol>
<ol class="arabic simple">
<li><p><strong>192.168.0.56/30</strong></p>
<ul class="simple">
<li><p>Rango útil: 192.168.0.57 - 192.168.0.58</p></li>
<li><p>Broadcast: 192.168.0.59</p></li>
</ul>
</li>
</ol>
</li>
</ul>
</li>
</ol>
</section>
</section>
<section id="tablas-de-encaminamiento">
<h2>Tablas de Encaminamiento<a class="headerlink" href="#tablas-de-encaminamiento" title="Link to this heading">#</a></h2>
<p>Los routers mantienen una tabla de encaminamiento en la que registran las rutas hacia nodos y redes alcanzables. Estas rutas pueden ser <strong>estáticas</strong> (definidas manualmente por el administrador de red) o <strong>dinámicas</strong> (aprendidas automáticamente por el router).</p>
<ul class="simple">
<li><p>Cada nodo decide a qué nodo (dirección de red) enviará un paquete, basándose en pares de dirección IP de destino y la dirección del siguiente salto.</p></li>
<li><p>Para direccionar un único equipo (no una red completa), se utiliza la máscara <strong>255.255.255.255</strong> o <strong>/32</strong>.</p></li>
<li><p>Para establecer una ruta por defecto (hacia dónde enviar los paquetes si no se encuentra el destino), se utiliza la dirección <strong>0.0.0.0/0</strong>.</p></li>
<li><p>Si la red es directamente alcanzable, la dirección del siguiente salto es una interfaz del router, que se indica como <strong>0.0.0.0</strong>.</p></li>
<li><p>La <strong>dirección de red</strong> se obtiene realizando una operación lógica <strong>AND</strong> entre la <strong>dirección IP</strong> y la <strong>máscara de subred</strong>:
<cite>Dirección_de_red = Dirección_IP AND Máscara</cite>.</p></li>
<li><p>Si dos direcciones IP pertenecen a la misma red, entonces <strong>IP1 XOR IP2 = 0</strong>. Esto indica que ambos hosts están en la misma red.</p></li>
<li><p>La <strong>dirección de broadcast</strong> se obtiene con la operación <strong>OR</strong> entre la dirección de red y el complemento de la máscara:
<cite>Dirección_de_Broadcast = Dirección_de_red OR NOT Máscara</cite>.  <strong>Esta es siempre la última dirección de una red o subred</strong>.</p></li>
<li><p>El router necesita tener una dirección IP en cada subred a la que esté conectado. Solo enrutará si el destino está en una subred diferente. Si no puede encontrar un siguiente salto, enviará un mensaje ICMP indicando que el destino es inalcanzable.</p></li>
</ul>
</section>
<section id="ejemplo-de-tabla-de-enrutamiento">
<h2>Ejemplo de Tabla de Enrutamiento<a class="headerlink" href="#ejemplo-de-tabla-de-enrutamiento" title="Link to this heading">#</a></h2>
<p>Una tabla de enrutamiento básica contiene las siguientes columnas:</p>
<ul class="simple">
<li><p><strong>Destino</strong>: La dirección IP de la red de destino.</p></li>
<li><p><strong>Máscara de subred</strong>: La máscara de subred que define el rango de direcciones dentro de la red de destino.</p></li>
<li><p><strong>Gateway/Nodo siguiente</strong>: La dirección IP del siguiente router o gateway al que se debe enviar el paquete.</p></li>
<li><p><strong>Interfaz</strong>: La interfaz de red a través de la cual se enviará el paquete.</p></li>
</ul>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p><strong>Destino</strong></p></th>
<th class="head"><p><strong>Máscara de subred</strong></p></th>
<th class="head"><p><strong>Gateway/Nodo siguiente</strong></p></th>
<th class="head"><p><strong>Interfaz</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>192.168.1.0</p></td>
<td><p>255.255.255.0</p></td>
<td><p>192.168.1.1</p></td>
<td><p>eth0</p></td>
</tr>
<tr class="row-odd"><td><p>192.168.2.0</p></td>
<td><p>255.255.255.0</p></td>
<td><p>192.168.1.2</p></td>
<td><p>eth1</p></td>
</tr>
<tr class="row-even"><td><p>0.0.0.0</p></td>
<td><p>0.0.0.0</p></td>
<td><p>192.168.1.24</p></td>
<td><p>eth0</p></td>
</tr>
</tbody>
</table>
</div>
<p>Rutas de ejemplo:</p>
<ul class="simple">
<li><p>La primera entrada indica que para llegar a la red <strong>192.168.1.0/24</strong>, el paquete se enviará al siguiente salto en <strong>192.168.1.1</strong> a través de la interfaz <strong>eth0</strong>.</p></li>
<li><p>La segunda entrada es para la red <strong>192.168.2.0/24</strong>, que se enviará a través de la interfaz <strong>eth1</strong> al siguiente salto en <strong>192.168.1.2</strong>.</p></li>
<li><p>La tercera entrada es una <strong>ruta por defecto</strong> (<cite>0.0.0.0/0</cite>), indicando que cualquier tráfico que no coincida con una de las rutas anteriores se enviará a través del gateway <strong>192.168.1.24</strong>. Si 192.168.1.24 está conectado a Internet, cualquier dispositivo que use esta tabla de enrutamiento podrá navegar en la web.</p></li>
</ul>
<p>Además de estas rutas estáticas, las rutas dinámicas pueden ser aprendidas automáticamente mediante protocolos como <strong>OSPF</strong>, <strong>RIP</strong> o <strong>BGP</strong>.</p>
</section>
<section id="caso-practico-router-cisco">
<h2>Caso práctico: Router Cisco<a class="headerlink" href="#caso-practico-router-cisco" title="Link to this heading">#</a></h2>
<p>Para instalar el router Cisco 7200 en GNS3 seguiremos los siguientes pasos:</p>
<ol class="arabic simple">
<li><p>Descarga la imagen para el router <strong>Cisco c7200-adventerprisek9-mz.153-3.XB12.image</strong></p></li>
<li><p>Añadelo a GNS3 ( New template / Install an appliance from the GNS3 server (recommended)</p></li>
<li><p>En <strong>Routers</strong> selecciona <strong>Cisco 7200</strong></p></li>
<li><p>Install the appliance on your local computer</p></li>
<li><p>Cuando estes en (Required files) presiona Import y busca los archivos que te has descargado.</p></li>
</ol>
<p>Realiza la siguiente red, necesitaras añadir otro slots en el router (PA-FE-TX)</p>
<img alt="../_images/cisco7200_01.png" src="../_images/cisco7200_01.png" />
<p>Configura los pcs virtuales (VPC)</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">set</span><span class="w"> </span>pcname<span class="w"> </span><span class="m">192</span>.168.1.10/24
ip<span class="w"> </span><span class="m">192</span>.168.1.10/24<span class="w"> </span><span class="m">192</span>.168.1.1

<span class="nb">set</span><span class="w"> </span>pcname<span class="w"> </span><span class="m">192</span>.168.1.11/24
ip<span class="w"> </span><span class="m">192</span>.168.1.11/24<span class="w"> </span><span class="m">192</span>.168.1.1

<span class="nb">set</span><span class="w"> </span>pcname<span class="w"> </span><span class="m">192</span>.168.2.10/24
ip<span class="w"> </span><span class="m">192</span>.168.2.10/24<span class="w"> </span><span class="m">192</span>.168.2.1
</pre></div>
</div>
<p>Fíjate que los Pcs virtuales (VPC) no pueden verse los que estan en subredes diferentes</p>
<img alt="../_images/cisco7200_02.png" src="../_images/cisco7200_02.png" />
<p>Vamos a configuración las interfaces de red del router, pondremos a FastEthernet0/0 la ip 192.168.1.1 y FastEthernet0/1 para la ip 192.168.2.1</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">enable</span>
configure<span class="w"> </span>terminal
<span class="w"> </span>interface<span class="w"> </span>FastEthernet0/0
<span class="w"> </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">192</span>.168.1.1<span class="w"> </span><span class="m">255</span>.255.255.0
no<span class="w"> </span>shutdown
<span class="nb">exit</span>
interface<span class="w"> </span>FastEthernet1/0
<span class="w"> </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">192</span>.168.2.1<span class="w"> </span><span class="m">255</span>.255.255.0
<span class="w"> </span>no<span class="w"> </span>shutdown
<span class="nb">exit</span>
</pre></div>
</div>
<p>Puedes comprobar que las interfaces de red estan configruadas correctamente con el comando <code class="docutils literal notranslate"><span class="pre">show</span> <span class="pre">ip</span> <span class="pre">interface</span> <span class="pre">brief</span></code>. Fijate que cuando configuras las interfaces del router Cisco 7200, el enrutamiento básico se configura automáticamente</p>
<img alt="../_images/cisco7200_03.png" src="../_images/cisco7200_03.png" />
<p>Para ver las tablas de enrutamiento ejecutamos el comando <code class="docutils literal notranslate"><span class="pre">show</span> <span class="pre">ip</span> <span class="pre">route</span></code></p>
<img alt="../_images/cisco7200_04.png" src="../_images/cisco7200_04.png" />
</section>
<section id="caso-practico-router-cisco-dhcp">
<h2>Caso práctico: Router Cisco (DHCP)<a class="headerlink" href="#caso-practico-router-cisco-dhcp" title="Link to this heading">#</a></h2>
<p>Vamos a crear un servidor dhcp para la red 10.0.0.0/26</p>
<img alt="../_images/cisco_dhcp.png" src="../_images/cisco_dhcp.png" />
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">enable</span>
configure<span class="w"> </span>terminal
<span class="w"> </span>service<span class="w"> </span>dhcp
<span class="w"> </span>ip<span class="w"> </span>dhcp<span class="w"> </span>pool<span class="w"> </span>tu_nombre
<span class="w"> </span>network<span class="w"> </span><span class="m">10</span>.0.0.0<span class="w"> </span><span class="m">255</span>.255.255.192
<span class="w"> </span>default-router<span class="w"> </span><span class="m">10</span>.0.0.1
<span class="w"> </span>dns-server<span class="w"> </span><span class="m">8</span>.8.8.8
<span class="w"> </span>lease<span class="w"> </span><span class="m">2</span>
<span class="w">  </span>ip<span class="w"> </span>dhcp<span class="w"> </span>excluded-address<span class="w"> </span><span class="m">10</span>.0.0.1<span class="w"> </span><span class="m">10</span>.0.0.9
<span class="w">  </span>interface<span class="w"> </span>FastEthernet0/0
<span class="w">  </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">10</span>.0.0.1<span class="w"> </span><span class="m">255</span>.255.255.192
<span class="w">  </span>no<span class="w"> </span>shutdown
<span class="w"> </span><span class="nb">exit</span>
end
</pre></div>
</div>
<p>La opción <code class="docutils literal notranslate"><span class="pre">lease</span> <span class="pre">2</span></code>, establece un período de arrendamiento de 2 días para las direcciones IP asignadas.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>show<span class="w"> </span>ip<span class="w"> </span>dhcp<span class="w"> </span>pool<span class="w">  </span><span class="c1"># Muestra los pools creados</span>
show<span class="w"> </span>ip<span class="w"> </span>dhcp<span class="w"> </span>binding<span class="w"> </span><span class="c1"># Lista las asignaciones de IP</span>
debug<span class="w"> </span>ip<span class="w"> </span>dhcp<span class="w"> </span>server<span class="w"> </span><span class="c1"># Depuración en tiempo real</span>
</pre></div>
</div>
</section>
<section id="caso-practico-router-cisco-cloud">
<h2>Caso práctico: Router Cisco (Cloud)<a class="headerlink" href="#caso-practico-router-cisco-cloud" title="Link to this heading">#</a></h2>
<p>En GNS3, el Cloud sirve para conectar tu laboratorio virtual con el mundo exterior, es decir, con tu computadora anfitriona (host) y, a través de ella, con Internet o redes físicas reales.</p>
<p>Crea el diguiente esquema, configura el erouter con la ip 10.4.X.Y, siendo X e Y los valores de tu ip.</p>
<img alt="../_images/cisco_cloud.png" src="../_images/cisco_cloud.png" />
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">enable</span>
configure<span class="w"> </span>terminal
access-list<span class="w"> </span><span class="m">100</span><span class="w"> </span>permit<span class="w"> </span>ip<span class="w"> </span><span class="m">20</span>.0.0.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>any
ip<span class="w"> </span>nat<span class="w"> </span>inside<span class="w"> </span><span class="nb">source</span><span class="w"> </span>list<span class="w"> </span><span class="m">100</span><span class="w"> </span>interface<span class="w"> </span>FastEthernet1/0<span class="w"> </span>overload
interface<span class="w"> </span>FastEthernet0/0
<span class="w"> </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">20</span>.0.0.1<span class="w"> </span><span class="m">255</span>.255.255.0
<span class="w"> </span>no<span class="w"> </span>shutdown
<span class="w"> </span>ip<span class="w"> </span>nat<span class="w"> </span>inside
interface<span class="w"> </span>FastEthernet1/0
<span class="w"> </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">10</span>.4.104.100<span class="w"> </span><span class="m">255</span>.0.0.0
<span class="w"> </span>no<span class="w"> </span>shutdown
<span class="w"> </span>ip<span class="w"> </span>nat<span class="w"> </span>outside
ip<span class="w"> </span>route<span class="w"> </span><span class="m">0</span>.0.0.0<span class="w"> </span><span class="m">0</span>.0.0.0<span class="w"> </span><span class="m">10</span>.0.0.2
end
write<span class="w"> </span>memory
</pre></div>
</div>
</section>
<section id="caso-practico-router-cisco-enrutamiento-estatico">
<h2>Caso práctico: Router Cisco (Enrutamiento estático)<a class="headerlink" href="#caso-practico-router-cisco-enrutamiento-estatico" title="Link to this heading">#</a></h2>
<img alt="../_images/cisco3R.png" src="../_images/cisco3R.png" />
<p>R1</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">enable</span>
configure<span class="w"> </span>terminal
interface<span class="w"> </span>FastEthernet0/0
<span class="w"> </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">192</span>.168.1.1<span class="w"> </span><span class="m">255</span>.255.255.0
<span class="w"> </span>no<span class="w"> </span>shutdown
interface<span class="w"> </span>FastEthernet1/0
<span class="w"> </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">192</span>.168.2.1<span class="w"> </span><span class="m">255</span>.255.255.252
<span class="w"> </span>no<span class="w"> </span>shutdown
ip<span class="w"> </span>route<span class="w"> </span><span class="m">172</span>.16.0.0<span class="w"> </span><span class="m">255</span>.255.255.0<span class="w"> </span><span class="m">192</span>.168.2.2
ip<span class="w"> </span>route<span class="w"> </span><span class="m">20</span>.0.0.0<span class="w"> </span><span class="m">255</span>.255.255.0<span class="w"> </span><span class="m">192</span>.168.2.2
ip<span class="w"> </span>route<span class="w"> </span><span class="m">192</span>.168.4.0<span class="w"> </span><span class="m">255</span>.255.252.0<span class="w"> </span><span class="m">192</span>.168.1.1
ip<span class="w"> </span>route<span class="w"> </span><span class="m">0</span>.0.0.0<span class="w"> </span><span class="m">0</span>.0.0.0<span class="w"> </span><span class="m">192</span>.168.2.2
end
write<span class="w"> </span>memory
</pre></div>
</div>
<p>R2</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">enable</span>
configure<span class="w"> </span>terminal
interface<span class="w"> </span>FastEthernet0/0
<span class="w"> </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">172</span>.16.0.1<span class="w"> </span><span class="m">255</span>.255.255.0
<span class="w"> </span>no<span class="w"> </span>shutdown
interface<span class="w"> </span>FastEthernet1/0
<span class="w"> </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">192</span>.168.2.2<span class="w"> </span><span class="m">255</span>.255.255.252
<span class="w"> </span>no<span class="w"> </span>shutdown
interface<span class="w"> </span>FastEthernet2/0
<span class="w"> </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">192</span>.168.3.1<span class="w"> </span><span class="m">255</span>.255.255.252
<span class="w"> </span>no<span class="w"> </span>shutdown
ip<span class="w"> </span>route<span class="w"> </span><span class="m">192</span>.168.1.0<span class="w"> </span><span class="m">255</span>.255.255.0<span class="w"> </span><span class="m">192</span>.168.2.1
ip<span class="w"> </span>route<span class="w"> </span><span class="m">20</span>.0.0.0<span class="w"> </span><span class="m">255</span>.255.255.0<span class="w"> </span><span class="m">192</span>.168.3.2
ip<span class="w"> </span>route<span class="w"> </span><span class="m">172</span>.16.0.0<span class="w"> </span><span class="m">255</span>.255.255.0<span class="w"> </span><span class="m">172</span>.16.0.1
ip<span class="w"> </span>route<span class="w"> </span><span class="m">0</span>.0.0.0<span class="w"> </span><span class="m">0</span>.0.0.0<span class="w"> </span><span class="m">192</span>.168.3.2
end
write<span class="w"> </span>memory
</pre></div>
</div>
<p>R3</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">enable</span>
configure<span class="w"> </span>terminal
access-list<span class="w"> </span><span class="m">100</span><span class="w"> </span>permit<span class="w"> </span>ip<span class="w"> </span><span class="m">20</span>.0.0.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>any
access-list<span class="w"> </span><span class="m">100</span><span class="w"> </span>permit<span class="w"> </span>ip<span class="w"> </span><span class="m">172</span>.16.0.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>any
access-list<span class="w"> </span><span class="m">100</span><span class="w"> </span>permit<span class="w"> </span>ip<span class="w"> </span><span class="m">192</span>.168.1.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>any
ip<span class="w"> </span>nat<span class="w"> </span>inside<span class="w"> </span><span class="nb">source</span><span class="w"> </span>list<span class="w"> </span><span class="m">100</span><span class="w"> </span>interface<span class="w"> </span>FastEthernet2/0<span class="w"> </span>overload
interface<span class="w"> </span>FastEthernet0/0
<span class="w"> </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">20</span>.0.0.1<span class="w"> </span><span class="m">255</span>.255.255.0
<span class="w"> </span>no<span class="w"> </span>shutdown
<span class="w"> </span>ip<span class="w"> </span>nat<span class="w"> </span>inside
interface<span class="w"> </span>FastEthernet1/0
<span class="w"> </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">192</span>.168.3.2<span class="w"> </span><span class="m">255</span>.255.255.252
<span class="w"> </span>no<span class="w"> </span>shutdown
<span class="w"> </span>ip<span class="w"> </span>nat<span class="w"> </span>inside
interface<span class="w"> </span>FastEthernet2/0
<span class="w"> </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">10</span>.4.104.100<span class="w"> </span><span class="m">255</span>.0.0.0
<span class="w"> </span>no<span class="w"> </span>shutdown
<span class="w"> </span>ip<span class="w"> </span>nat<span class="w"> </span>outside
ip<span class="w"> </span>route<span class="w"> </span><span class="m">192</span>.168.1.0<span class="w"> </span><span class="m">255</span>.255.255.0<span class="w"> </span><span class="m">192</span>.168.3.1
ip<span class="w"> </span>route<span class="w"> </span><span class="m">172</span>.16.0.0<span class="w"> </span><span class="m">255</span>.255.255.0<span class="w"> </span><span class="m">192</span>.168.3.1
ip<span class="w"> </span>route<span class="w"> </span><span class="m">192</span>.168.2.0<span class="w"> </span><span class="m">255</span>.255.255.252<span class="w"> </span><span class="m">192</span>.168.3.1
ip<span class="w"> </span>route<span class="w"> </span><span class="m">0</span>.0.0.0<span class="w"> </span><span class="m">0</span>.0.0.0<span class="w"> </span><span class="m">10</span>.0.0.2
end
write<span class="w"> </span>memory
</pre></div>
</div>
</section>
<section id="caso-practico-router-mikrotik">
<h2>Caso práctico: Router MikroTik<a class="headerlink" href="#caso-practico-router-mikrotik" title="Link to this heading">#</a></h2>
<p>ikroTik utiliza RouterOS, un sistema operativo basado en Linux diseñado específicamente para la gestión de redes, podemos bajarnos <a class="reference external" href="https://gns3.com/marketplace/appliances/mikrotik-cloud-hosted-router">mikrotik-chr.gnsa y la chr-7.16.img</a></p>
<p>Para añadirlo a GNS3 New template / Import an appliance file (.gn3a extension)</p>
<img alt="../_images/MikroTik01.png" src="../_images/MikroTik01.png" />
<p>Vamos a utilizar tres ordenadores con la siguiente configuración:</p>
<img alt="../_images/MikroTik02.png" src="../_images/MikroTik02.png" />
<p>La forma más rápida de confiruar los 3 clientes es utilizando el botón de la derecha del ráton y pulsando Edit config, copiamos en cada caso la confiruación correspondiente:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">set</span><span class="w"> </span>pcname<span class="w"> </span><span class="m">10</span>.0.1.10/24
ip<span class="w"> </span><span class="m">10</span>.0.1.10/24<span class="w"> </span><span class="m">10</span>.0.1.1

<span class="nb">set</span><span class="w"> </span>pcname<span class="w"> </span><span class="m">10</span>.0.1.11/24
ip<span class="w"> </span><span class="m">10</span>.0.1.11/24<span class="w"> </span><span class="m">10</span>.0.1.1

<span class="nb">set</span><span class="w"> </span>pcname<span class="w"> </span><span class="m">10</span>.0.2.10/24
ip<span class="w"> </span><span class="m">10</span>.0.2.10/24<span class="w"> </span><span class="m">10</span>.0.2.1
</pre></div>
</div>
<p>Haz un pantallazo como el siguiente donde se vea que la 10.0.1.10 no llega a la 10.0.2.10</p>
<p>Asigna las IPs a las Interfaces de MikroTik</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>/ip<span class="w"> </span>address<span class="w"> </span>add<span class="w"> </span><span class="nv">address</span><span class="o">=</span><span class="m">10</span>.0.1.1/24<span class="w"> </span><span class="nv">interface</span><span class="o">=</span>ether1
/ip<span class="w"> </span>address<span class="w"> </span>add<span class="w"> </span><span class="nv">address</span><span class="o">=</span><span class="m">10</span>.0.2.1/24<span class="w"> </span><span class="nv">interface</span><span class="o">=</span>ether2
</pre></div>
</div>
<p>Puedes comprobar que todo esta bien con el comando <code class="docutils literal notranslate"><span class="pre">/ip</span> <span class="pre">address</span> <span class="pre">print</span></code></p>
<p>Por defecto, MikroTik ya enruta paquetes entre interfaces con direcciones IP directamente conectadas.
Para verificar que las rutas existen, utiliza:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>/ip<span class="w"> </span>route<span class="w"> </span>print

<span class="c1">#    DST-ADDRESS     GATEWAY    DISTANCE</span>
<span class="m">0</span><span class="w">    </span><span class="m">10</span>.0.1.0/24<span class="w">     </span>ether1<span class="w">     </span><span class="m">0</span>
<span class="m">1</span><span class="w">    </span><span class="m">10</span>.0.2.0/24<span class="w">     </span>ether2<span class="w">     </span><span class="m">0</span>
</pre></div>
</div>
<p>Comprueba que ahora si llega y sube un pantallazo del ping y de las tablas de enrutamiento.</p>
</section>
<section id="caso-practico-vyos">
<h2>Caso práctico: Vyos<a class="headerlink" href="#caso-practico-vyos" title="Link to this heading">#</a></h2>
<p>Fíjate en la siguiente figura en la que se muestran 6 ordenadores unidos por 3 switch y 3 routers</p>
<img alt="../_images/Routers.png" src="../_images/Routers.png" />
<p>Como podemos ver en la figura tenemos tres segmentos de red /24 y dos segmentos de red que unen los router en /30.</p>
<p>Para este caso práctico vamos a utilizar <strong>GNS3</strong> que es un software de emulación de red de código abierto que permite a los usuarios simular topologías de red complejas y experimentar con diferentes configuraciones de red y <strong>VyOS</strong>, que es un sistema operativo de red de código abierto basado en el proyecto Vyatta. Está diseñado para ser utilizado como un enrutador de red, firewall, VPN y plataforma de virtualización de red.</p>
<p>Para instalar un Router pulsaremos a (New</p>
<p>La forma más rápida de confiruar los 6 clientes es utilizando el botón de la derecha del ráton y pulsando Edit config, copiamos en cada caso la confiruación correspondiente:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">set</span><span class="w"> </span>pcname<span class="w"> </span><span class="m">10</span>.0.1.10/24
ip<span class="w"> </span><span class="m">10</span>.0.1.10<span class="w"> </span><span class="m">10</span>.0.1.254<span class="w"> </span><span class="m">24</span>

<span class="nb">set</span><span class="w"> </span>pcname<span class="w"> </span><span class="m">10</span>.0.1.11/24
ip<span class="w"> </span><span class="m">10</span>.0.1.11<span class="w"> </span><span class="m">10</span>.0.1.254<span class="w"> </span><span class="m">24</span>

<span class="nb">set</span><span class="w"> </span>pcname<span class="w"> </span><span class="m">10</span>.0.2.10/24
ip<span class="w"> </span><span class="m">10</span>.0.2.10<span class="w"> </span><span class="m">10</span>.0.2.254<span class="w"> </span><span class="m">24</span>

<span class="nb">set</span><span class="w"> </span>pcname<span class="w"> </span><span class="m">10</span>.0.2.11/24
ip<span class="w"> </span><span class="m">10</span>.0.2.11<span class="w"> </span><span class="m">10</span>.0.2.254<span class="w"> </span><span class="m">24</span>

<span class="nb">set</span><span class="w"> </span>pcname<span class="w"> </span><span class="m">10</span>.0.3.10/24
ip<span class="w"> </span><span class="m">10</span>.0.3.10<span class="w"> </span><span class="m">10</span>.0.3.254<span class="w"> </span><span class="m">24</span>

<span class="nb">set</span><span class="w"> </span>pcname<span class="w"> </span><span class="m">10</span>.0.3.11/24
ip<span class="w"> </span><span class="m">10</span>.0.3.11<span class="w"> </span><span class="m">10</span>.0.3.254<span class="w"> </span><span class="m">24</span>
</pre></div>
</div>
<p>Abre una terminal y comprueba que los clientes solo pueden hacer ping con nodos que esten en su misma subred, para que puedan verse todos entre sí pasamos a configurar los routers, para ello empezamos con <strong>R2</strong>, abrimos la teminal y vemos que no esta configuradas las interfaces de red</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>vyos@vyos:~$<span class="w"> </span>show<span class="w"> </span>interfaces
Codes:<span class="w"> </span>S<span class="w"> </span>-<span class="w"> </span>State,<span class="w"> </span>L<span class="w"> </span>-<span class="w"> </span>Link,<span class="w"> </span>u<span class="w"> </span>-<span class="w"> </span>Up,<span class="w"> </span>D<span class="w"> </span>-<span class="w"> </span>Down,<span class="w"> </span>A<span class="w"> </span>-<span class="w"> </span>Admin<span class="w"> </span>Down
Interface<span class="w">        </span>IP<span class="w"> </span>Address<span class="w">                        </span>S/L<span class="w">  </span>Description
---------<span class="w">        </span>----------<span class="w">                        </span>---<span class="w">  </span>-----------
eth0<span class="w">             </span>-<span class="w">                                 </span>u/u
eth1<span class="w">             </span>-<span class="w">                                 </span>u/u
eth2<span class="w">             </span>-<span class="w">                                 </span>u/u
lo<span class="w">               </span><span class="m">127</span>.0.0.1/8<span class="w">                       </span>u/u
<span class="w">                </span>::1/128
</pre></div>
</div>
<p>Para configurarlas, abrimos una terminal:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>vyos@vyos:~$<span class="w"> </span>configure
WARNING:<span class="w"> </span>You<span class="w"> </span>are<span class="w"> </span>currently<span class="w"> </span>configuring<span class="w"> </span>a<span class="w"> </span>live-ISO<span class="w"> </span>environment,....
<span class="o">[</span>edit<span class="o">]</span>
vyos@vyos#<span class="w"> </span><span class="nb">set</span><span class="w"> </span>interfaces<span class="w"> </span>ethernet<span class="w"> </span>eth1<span class="w"> </span>address<span class="w"> </span><span class="m">10</span>.0.0.2/30
<span class="o">[</span>edit<span class="o">]</span>
vyos@vyos#<span class="w"> </span><span class="nb">set</span><span class="w"> </span>interfaces<span class="w"> </span>ethernet<span class="w"> </span>eth0<span class="w"> </span>address<span class="w"> </span><span class="m">10</span>.0.2.254/24
<span class="o">[</span>edit<span class="o">]</span>
vyos@vyos#<span class="w"> </span><span class="nb">set</span><span class="w"> </span>interfaces<span class="w"> </span>ethernet<span class="w"> </span>eth1<span class="w"> </span>address<span class="w"> </span><span class="m">10</span>.0.0.5/30
</pre></div>
</div>
<p>Tampoco estan configuradas las tablas de encaminamiento</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>vyos@vyos:~$<span class="w"> </span>netstat<span class="w"> </span>-r
Kernel<span class="w"> </span>IP<span class="w"> </span>routing<span class="w"> </span>table
Destination<span class="w">     </span>Gateway<span class="w">         </span>Genmask<span class="w">         </span>Flags<span class="w">   </span>MSS<span class="w"> </span>Window<span class="w">  </span>irtt<span class="w"> </span>Iface
</pre></div>
</div>
<p>Añadimos las siguientes rutas estaticas:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>vyos@vyos#<span class="w"> </span><span class="nb">set</span><span class="w"> </span>protocols<span class="w"> </span>static<span class="w"> </span>route<span class="w"> </span><span class="m">10</span>.0.1.0/24<span class="w"> </span>next-hop<span class="w"> </span><span class="m">10</span>.0.0.1
<span class="o">[</span>edit<span class="o">]</span>
vyos@vyos#<span class="w"> </span><span class="nb">set</span><span class="w"> </span>protocols<span class="w"> </span>static<span class="w"> </span>route<span class="w"> </span><span class="m">10</span>.0.3.0/24<span class="w"> </span>next-hop<span class="w"> </span><span class="m">10</span>.0.0.6
<span class="o">[</span>edit<span class="o">]</span>
</pre></div>
</div>
<p>Para que los cambios tengan efectos los subimos y salvamos:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>vyos@vyos#<span class="w"> </span>commit
<span class="o">[</span>edit<span class="o">]</span>
vyos@vyos#<span class="w"> </span>save
Saving<span class="w"> </span>configuration<span class="w"> </span>to<span class="w"> </span><span class="s1">&#39;/config/config.boot&#39;</span>...
Done
<span class="o">[</span>edit<span class="o">]</span>
</pre></div>
</div>
<p>Comprobamos la tabla de encaminamiento de <strong>R2</strong></p>
<img alt="../_images/R2.png" src="../_images/R2.png" />
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>vyos@vyos#<span class="w"> </span>netstat<span class="w"> </span>-r
Kernel<span class="w"> </span>IP<span class="w"> </span>routing<span class="w"> </span>table
Destination<span class="w">     </span>Gateway<span class="w">         </span>Genmask<span class="w">         </span>Flags<span class="w">   </span>MSS<span class="w"> </span>Window<span class="w">  </span>irtt<span class="w"> </span>Iface
<span class="m">10</span>.0.0.0<span class="w">        </span><span class="m">0</span>.0.0.0<span class="w">         </span><span class="m">255</span>.255.255.252<span class="w"> </span>U<span class="w">         </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w">          </span><span class="m">0</span><span class="w"> </span>eth1
<span class="m">10</span>.0.0.4<span class="w">        </span><span class="m">0</span>.0.0.0<span class="w">         </span><span class="m">255</span>.255.255.252<span class="w"> </span>U<span class="w">         </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w">          </span><span class="m">0</span><span class="w"> </span>eth1
<span class="m">10</span>.0.1.0<span class="w">        </span><span class="m">10</span>.0.0.1<span class="w">        </span><span class="m">255</span>.255.255.0<span class="w">   </span>UG<span class="w">        </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w">          </span><span class="m">0</span><span class="w"> </span>eth1
<span class="m">10</span>.0.2.0<span class="w">        </span><span class="m">0</span>.0.0.0<span class="w">         </span><span class="m">255</span>.255.255.0<span class="w">   </span>U<span class="w">         </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w">          </span><span class="m">0</span><span class="w"> </span>eth0
<span class="m">10</span>.0.3.0<span class="w">        </span><span class="m">10</span>.0.0.6<span class="w">        </span><span class="m">255</span>.255.255.0<span class="w">   </span>UG<span class="w">        </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w">          </span><span class="m">0</span><span class="w"> </span>eth1
<span class="o">[</span>edit<span class="o">]</span>
</pre></div>
</div>
<p>y las interfaces de red como</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>vyos@vyos#<span class="w"> </span>show<span class="w"> </span>interfaces
<span class="w"> </span>ethernet<span class="w"> </span>eth0<span class="w"> </span><span class="o">{</span>
<span class="w">     </span>address<span class="w"> </span><span class="m">10</span>.0.2.254/24
<span class="w">     </span>hw-id<span class="w"> </span>0c:51:f2:fd:00:00
<span class="w"> </span><span class="o">}</span>
<span class="w"> </span>ethernet<span class="w"> </span>eth1<span class="w"> </span><span class="o">{</span>
<span class="w">     </span>address<span class="w"> </span><span class="m">10</span>.0.0.2/30
<span class="w">     </span>address<span class="w"> </span><span class="m">10</span>.0.0.5/30
<span class="w">     </span>hw-id<span class="w"> </span>0c:51:f2:fd:00:01
<span class="w"> </span><span class="o">}</span>
<span class="w"> </span>ethernet<span class="w"> </span>eth2<span class="w"> </span><span class="o">{</span>
<span class="w">     </span>hw-id<span class="w"> </span>0c:51:f2:fd:00:02
<span class="w"> </span><span class="o">}</span>
<span class="w"> </span>loopback<span class="w"> </span>lo<span class="w"> </span><span class="o">{</span>
<span class="w"> </span><span class="o">}</span>
<span class="o">[</span>edit<span class="o">]</span>
</pre></div>
</div>
<p>Para el caso <strong>R1</strong>, ponemos un resumen de los comandos utilizados</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>show<span class="w"> </span>interfaces
configure
<span class="nb">set</span><span class="w"> </span>interfaces<span class="w"> </span>ethernet<span class="w"> </span>eth0<span class="w"> </span>address<span class="w"> </span><span class="m">10</span>.0.1.254/24
<span class="nb">set</span><span class="w"> </span>interfaces<span class="w"> </span>ethernet<span class="w"> </span>eth1<span class="w"> </span>address<span class="w"> </span><span class="m">10</span>.0.0.1/30
<span class="nb">set</span><span class="w"> </span>protocols<span class="w"> </span>static<span class="w"> </span>route<span class="w"> </span><span class="m">10</span>.0.2.0/24<span class="w"> </span>next-hop<span class="w"> </span><span class="m">10</span>.0.0.2
<span class="nb">set</span><span class="w"> </span>protocols<span class="w"> </span>static<span class="w"> </span>route<span class="w"> </span><span class="m">10</span>.0.3.0/24<span class="w"> </span>next-hop<span class="w"> </span><span class="m">10</span>.0.0.2
commit
save
</pre></div>
</div>
<p>Comprobamos la tabla de encaminamiento de <strong>R1</strong></p>
<img alt="../_images/R2.png" src="../_images/R2.png" />
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>vyos@vyos#<span class="w"> </span>netstat<span class="w"> </span>-r
Kernel<span class="w"> </span>IP<span class="w"> </span>routing<span class="w"> </span>table
Destination<span class="w">     </span>Gateway<span class="w">         </span>Genmask<span class="w">         </span>Flags<span class="w">   </span>MSS<span class="w"> </span>Window<span class="w">  </span>irtt<span class="w"> </span>Iface
<span class="m">10</span>.0.0.0<span class="w">        </span><span class="m">0</span>.0.0.0<span class="w">         </span><span class="m">255</span>.255.255.252<span class="w"> </span>U<span class="w">         </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w">          </span><span class="m">0</span><span class="w"> </span>eth1
<span class="m">10</span>.0.1.0<span class="w">        </span><span class="m">0</span>.0.0.0<span class="w">         </span><span class="m">255</span>.255.255.0<span class="w">   </span>U<span class="w">         </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w">          </span><span class="m">0</span><span class="w"> </span>eth0
<span class="m">10</span>.0.2.0<span class="w">        </span><span class="m">10</span>.0.0.2<span class="w">        </span><span class="m">255</span>.255.255.0<span class="w">   </span>UG<span class="w">        </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w">          </span><span class="m">0</span><span class="w"> </span>eth1
<span class="m">10</span>.0.3.0<span class="w">        </span><span class="m">10</span>.0.0.2<span class="w">        </span><span class="m">255</span>.255.255.0<span class="w">   </span>UG<span class="w">        </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w">          </span><span class="m">0</span><span class="w"> </span>eth1
<span class="o">[</span>edit<span class="o">]</span>
</pre></div>
</div>
<p>y las interfaces de red como</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>vyos@vyos#<span class="w"> </span>show<span class="w"> </span>interfaces
<span class="w"> </span>ethernet<span class="w"> </span>eth0<span class="w"> </span><span class="o">{</span>
<span class="w">     </span>address<span class="w"> </span><span class="m">10</span>.0.1.254/24
<span class="w">     </span>hw-id<span class="w"> </span>0c:36:d7:ab:00:00
<span class="w"> </span><span class="o">}</span>
<span class="w"> </span>ethernet<span class="w"> </span>eth1<span class="w"> </span><span class="o">{</span>
<span class="w">     </span>address<span class="w"> </span><span class="m">10</span>.0.0.1/30
<span class="w">     </span>hw-id<span class="w"> </span>0c:36:d7:ab:00:01
<span class="w"> </span><span class="o">}</span>
<span class="w"> </span>ethernet<span class="w"> </span>eth2<span class="w"> </span><span class="o">{</span>
<span class="w">     </span>hw-id<span class="w"> </span>0c:36:d7:ab:00:02
<span class="w"> </span><span class="o">}</span>
<span class="w"> </span>loopback<span class="w"> </span>lo<span class="w"> </span><span class="o">{</span>
<span class="w"> </span><span class="o">}</span>
<span class="o">[</span>edit<span class="o">]</span>
</pre></div>
</div>
<p>Para el caso de <strong>R3</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>show<span class="w"> </span>interfaces
configure
<span class="nb">set</span><span class="w"> </span>interfaces<span class="w"> </span>ethernet<span class="w"> </span>eth0<span class="w"> </span>address<span class="w"> </span><span class="m">10</span>.0.3.254/24
<span class="nb">set</span><span class="w"> </span>interfaces<span class="w"> </span>ethernet<span class="w"> </span>eth2<span class="w"> </span>address<span class="w"> </span><span class="m">10</span>.0.0.6/30
<span class="nb">set</span><span class="w"> </span>protocols<span class="w"> </span>static<span class="w"> </span>route<span class="w"> </span><span class="m">10</span>.0.1.0/24<span class="w"> </span>next-hop<span class="w"> </span><span class="m">10</span>.0.0.5
<span class="nb">set</span><span class="w"> </span>protocols<span class="w"> </span>static<span class="w"> </span>route<span class="w"> </span><span class="m">10</span>.0.2.0/24<span class="w"> </span>next-hop<span class="w"> </span><span class="m">10</span>.0.0.5
commit
save
</pre></div>
</div>
<p>Comprobamos la tabla de encaminamiento de <strong>R3</strong></p>
<img alt="../_images/R2.png" src="../_images/R2.png" />
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>vyos@vyos#<span class="w"> </span>netstat<span class="w"> </span>-r
Kernel<span class="w"> </span>IP<span class="w"> </span>routing<span class="w"> </span>table
Destination<span class="w">     </span>Gateway<span class="w">         </span>Genmask<span class="w">         </span>Flags<span class="w">   </span>MSS<span class="w"> </span>Window<span class="w">  </span>irtt<span class="w"> </span>Iface
<span class="m">10</span>.0.0.4<span class="w">        </span><span class="m">0</span>.0.0.0<span class="w">         </span><span class="m">255</span>.255.255.252<span class="w"> </span>U<span class="w">         </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w">          </span><span class="m">0</span><span class="w"> </span>eth2
<span class="m">10</span>.0.1.0<span class="w">        </span><span class="m">10</span>.0.0.5<span class="w">        </span><span class="m">255</span>.255.255.0<span class="w">   </span>UG<span class="w">        </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w">          </span><span class="m">0</span><span class="w"> </span>eth2
<span class="m">10</span>.0.2.0<span class="w">        </span><span class="m">10</span>.0.0.5<span class="w">        </span><span class="m">255</span>.255.255.0<span class="w">   </span>UG<span class="w">        </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w">          </span><span class="m">0</span><span class="w"> </span>eth2
<span class="m">10</span>.0.3.0<span class="w">        </span><span class="m">0</span>.0.0.0<span class="w">         </span><span class="m">255</span>.255.255.0<span class="w">   </span>U<span class="w">         </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w">          </span><span class="m">0</span><span class="w"> </span>eth0
<span class="o">[</span>edit<span class="o">]</span>
</pre></div>
</div>
<p>y las interfaces de red como</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>vyos@vyos#<span class="w"> </span>show<span class="w"> </span>interfaces
<span class="w"> </span>ethernet<span class="w"> </span>eth0<span class="w"> </span><span class="o">{</span>
<span class="w">     </span>address<span class="w"> </span><span class="m">10</span>.0.3.254/24
<span class="w">     </span>hw-id<span class="w"> </span>0c:73:d2:39:00:00
<span class="w"> </span><span class="o">}</span>
<span class="w"> </span>ethernet<span class="w"> </span>eth1<span class="w"> </span><span class="o">{</span>
<span class="w">     </span>hw-id<span class="w"> </span>0c:73:d2:39:00:01
<span class="w"> </span><span class="o">}</span>
<span class="w"> </span>ethernet<span class="w"> </span>eth2<span class="w"> </span><span class="o">{</span>
<span class="w">     </span>address<span class="w"> </span><span class="m">10</span>.0.0.6/30
<span class="w">     </span>hw-id<span class="w"> </span>0c:73:d2:39:00:02
<span class="w"> </span><span class="o">}</span>
<span class="w"> </span>loopback<span class="w"> </span>lo<span class="w"> </span><span class="o">{</span>
<span class="w"> </span><span class="o">}</span>
<span class="o">[</span>edit<span class="o">]</span>
</pre></div>
</div>
<p>Ejecuta los siguientes comandos <code class="docutils literal notranslate"><span class="pre">ping</span> <span class="pre">10.0.3.10</span></code> y <code class="docutils literal notranslate"><span class="pre">trace</span> <span class="pre">10.0.2.10</span></code> en la 10.0.1.10, sube un pantallazo</p>
</section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="transporte_datos_equipos_interconexion.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">anterior</p>
        <p class="prev-next-title">Transporte de datos y equipos de interconexión</p>
      </div>
    </a>
    <a class="right-next"
       href="cableado_estructurado.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">siguiente</p>
        <p class="prev-next-title">Cableado Estructurado</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contenido
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#el-subnetting-ip">El subnetting IP</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cidr">CIDR</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ejemplos">Ejemplos</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tablas-de-encaminamiento">Tablas de Encaminamiento</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ejemplo-de-tabla-de-enrutamiento">Ejemplo de Tabla de Enrutamiento</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#caso-practico-router-cisco">Caso práctico: Router Cisco</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#caso-practico-router-cisco-dhcp">Caso práctico: Router Cisco (DHCP)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#caso-practico-router-cisco-cloud">Caso práctico: Router Cisco (Cloud)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#caso-practico-router-cisco-enrutamiento-estatico">Caso práctico: Router Cisco (Enrutamiento estático)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#caso-practico-router-mikrotik">Caso práctico: Router MikroTik</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#caso-practico-vyos">Caso práctico: Vyos</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
Por dgtrabada
</p>

  </div>
  
  <div class="footer-item">
    

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>