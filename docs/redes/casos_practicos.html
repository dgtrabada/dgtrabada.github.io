
<!DOCTYPE html>


<html lang="es" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Casos prácticos &#8212; dgtrabada</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!-- 
    this give us a css class that will be invisible only if js is disabled 
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css?v=a5c4661c" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=26a4bc78f4c0ddb94549"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549" />

    <script src="../_static/documentation_options.js?v=40e79d90"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script src="../_static/translations.js?v=f85f4cfb"></script>
    <script src="../_static/tabs.js?v=3030b3cb"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'redes/casos_practicos';</script>
    <link rel="icon" href="../_static/ico.png"/>
    <link rel="index" title="Índice" href="../genindex.html" />
    <link rel="search" title="Búsqueda" href="../search.html" />
    <link rel="next" title="Cableado Estructurado" href="cableado_estructurado.html" />
    <link rel="prev" title="Direccionamiento IP" href="Direccionamiento_IP.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="es"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
  
    <p class="title logo__title">dgtrabada</p>
  
</a></div>
        <div class="sidebar-primary-item">

<button class="btn search-button-field search-button__button pst-js-only" title="Búsqueda" aria-label="Búsqueda" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Búsqueda</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../historia/index.html">Historia</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../historia/Introduccion.html">Introducción</a></li>
<li class="toctree-l2"><a class="reference internal" href="../historia/mecanicos.html">Dispositivos mecánicos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../historia/electricicidad.html">Transición, la electricicidad</a></li>
<li class="toctree-l2"><a class="reference internal" href="../historia/1gen.html">Primera generación</a></li>
<li class="toctree-l2"><a class="reference internal" href="../historia/2gen.html">Segunda generación</a></li>
<li class="toctree-l2"><a class="reference internal" href="../historia/3gen.html">Tercera generación</a></li>
<li class="toctree-l2"><a class="reference internal" href="../historia/4gen.html">Cuarta generación</a></li>
<li class="toctree-l2"><a class="reference internal" href="../historia/SXXI.html">SXXI</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../so/index.html">Sistemas Operativos</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../teoria/medida_representacion_informacion.html">Medida y representación de la información</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../teoria/sistema_anal%C3%B3gico_digital.html">Sistema analógico &amp; digital</a></li>
<li class="toctree-l3"><a class="reference internal" href="../teoria/medida_informacion.html">Medida de la información</a></li>
<li class="toctree-l3"><a class="reference internal" href="../teoria/representacion_informacion.html">Representación de la información</a></li>
<li class="toctree-l3"><a class="reference internal" href="../teoria/sistemas_numeracion.html">Sistemas de numeración</a></li>
<li class="toctree-l3"><a class="reference internal" href="../teoria/cambio_base_decimales.html">Cambio de base con decimales</a></li>
<li class="toctree-l3"><a class="reference internal" href="../teoria/sistemas_codificacion.html">Sistemas de codificación</a></li>
<li class="toctree-l3"><a class="reference internal" href="../teoria/imagen_digital.html">Imagen digital</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../so/fundamentos/index.html">Fundamentos de sistemas operativos</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../so/fundamentos/so_evolucion_sistema_operativo.html">Evolución del Sistema Operativo</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/fundamentos/so_licencias.html">Tipos software y licencias</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/fundamentos/sistemas_operativos.html">Sistemas operativos</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/fundamentos/gestion_procesos.html">Gestión de procesos</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/fundamentos/gestion_memoria.html">Gestión de memoria</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/fundamentos/sistema_archivos.html">Sistema de archivos</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/fundamentos/gestion_arranque.html">Gestión arranque</a></li>
</ul>
</details></li>
<li class="toctree-l2"><a class="reference internal" href="../so/maquinas_virtuales.html">La virtualización</a></li>
<li class="toctree-l2"><a class="reference internal" href="../so/particiones.html">Particiones</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/raid.html">RAID</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../so/GNULinux/index.html">GNU/Linux</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../so/GNULinux/00_historia.html">Historia GNU/Linux</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/GNULinux/01_comandos_basicos.html">Comandos básicos GNU/Linux</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/GNULinux/02_permisos.html">Permisos en GNU/Linux</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/GNULinux/03_usuarios.html">Usuarios y grupos GNU/Linux</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/GNULinux/04_ssh.html">SSH</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/GNULinux/05_samba.html">Samba</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/GNULinux/05_apache.html">Apache</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/GNULinux/06_automatizacion_tareas.html">Automatización de tareas y servicios</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/GNULinux/07_comandos_avanzados.html">Comandos avanzados</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/GNULinux/08_NIS.html">NIS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/GNULinux/09_GNULinux_NFS.html">NFS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/GNULinux/10_slurm.html">Slurm</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/GNULinux/11_modules.html">Environment modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/GNULinux/12_ansible.html">Ansible</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/GNULinux/13_ldap.html">LDAP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/GNULinux/14_rockylinux.html">Rocky Linux</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/GNULinux/15_shell_scripting.html">Shell Scripting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/GNULinux/15_ejercicios_shell_scripting.html">Ejercicios de shell scripting</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../so/windows/index.html">Windows</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../so/windows/01_historia.html">Historia de Windows</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/windows/02_configuracion.html">Configuración Windows</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/windows/03_usuarios_grupos.html">Usuarios y grupos Windows</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/windows/04_arranque.html">Arranque de Windows</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/windows/05_comandos_dos.html">Comandos ms-dos</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/windows/06_powershell.html">PowerShell</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/windows/07_AD_DS.html">Active Directory Domain Services (AD DS)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/windows/08_Caso_practico_AD.html">Casos prácticos : Active Directory con adaptador puente</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/windows/08_Caso_practico_AD_redint.html">Casos prácticos : Active Directory con red interna</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/windows/09_Caso_practico_AD_sin_GUI.html">Casos prácticos : Active Directory sin GUI</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/windows/10_powershell_scripting.html">PowerShell Scripting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/windows/10_ejercicios_powershell.html">Ejercicios de PowerShell</a></li>
<li class="toctree-l3"><a class="reference internal" href="../so/windows/11_bat.html">Scripting .bat</a></li>
</ul>
</details></li>
<li class="toctree-l2"><a class="reference internal" href="../so/clonacion.html">Clonación</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../hardware/index.html">Hardware</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../teoria/medida_representacion_informacion.html">Medida y representación de la información</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../teoria/sistema_anal%C3%B3gico_digital.html">Sistema analógico &amp; digital</a></li>
<li class="toctree-l3"><a class="reference internal" href="../teoria/medida_informacion.html">Medida de la información</a></li>
<li class="toctree-l3"><a class="reference internal" href="../teoria/representacion_informacion.html">Representación de la información</a></li>
<li class="toctree-l3"><a class="reference internal" href="../teoria/sistemas_numeracion.html">Sistemas de numeración</a></li>
<li class="toctree-l3"><a class="reference internal" href="../teoria/cambio_base_decimales.html">Cambio de base con decimales</a></li>
<li class="toctree-l3"><a class="reference internal" href="../teoria/sistemas_codificacion.html">Sistemas de codificación</a></li>
<li class="toctree-l3"><a class="reference internal" href="../teoria/imagen_digital.html">Imagen digital</a></li>
</ul>
</details></li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/mantenimiento.html">Mantenimiento de sistemas informáticos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/bios.html">BIOS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/uefi.html">UEFI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/diccionario.html">Diccionario de la BIOS/UEFI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/dispositivos_alamacenamiento.html">Dispositivos de almacenamiento</a></li>
<li class="toctree-l2"><a class="reference internal" href="../so/particiones.html">Particiones</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/buses.html">Buses y conectores de datos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/raid.html">RAID</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/historia_microsprocesador.html">Breve historia del procesador</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/microprocesadores.html">Microprocesadores</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/encapsuladors.html">Encapsulados</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/ventilacion.html">Ventilación</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/ram.html">Memoria RAM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/conceptos_electronicos.html">Conceptos eléctricos - electrónicos y elementos básicos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/fuente_alimentacion.html">Fuentes de Alimentación</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/conectores_potencia.html">Cableado y conectores de potencia</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/sai.html">Sistemas de alimentación interrumpida</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/puertas_logicas.html">Puertas lógicas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/arquitectura.html">Arquitectura del ordenador</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/carcasa.html">La carcasa</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/placa_base.html">La placa base, el “chipset”, la EPROM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/conectores.html">Conectores y buses externos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/tarjetas.html">Tarjetas de expansión</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/perifericos.html">Periféricos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/cpd.html">Centro de Proceso de Datos (CPD)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/diagnostico.html">Herramientas de diagnostico</a></li>
</ul>
</details></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="index.html">Redes</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="sistemas_comunicacion.html">Sistema de comunicación</a></li>
<li class="toctree-l2"><a class="reference internal" href="tipos_tecnicas_transmision_datos.html">Tipos y técnicas de transmisión de datos</a></li>
<li class="toctree-l2"><a class="reference internal" href="sistemas_red.html">Sistemas en red</a></li>
<li class="toctree-l2"><a class="reference internal" href="medios_transmision.html">Medios de transmisión</a></li>
<li class="toctree-l2"><a class="reference internal" href="perturbaciones.html">Perturbaciones en la transmisión de datos</a></li>
<li class="toctree-l2"><a class="reference internal" href="topologia.html">Topologías de red y modos de conexión</a></li>
<li class="toctree-l2"><a class="reference internal" href="redes_inalambricas.html">Tipos de redes 802.11</a></li>



<li class="toctree-l2"><a class="reference internal" href="anquitectura_niveles.html">Arquitecturas basadas en niveles</a></li>
<li class="toctree-l2"><a class="reference internal" href="transporte_datos_equipos_interconexion.html">Transporte de datos y equipos de interconexión</a></li>
<li class="toctree-l2"><a class="reference internal" href="Direccionamiento_IP.html">Direccionamiento IP</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Casos prácticos</a></li>
<li class="toctree-l2"><a class="reference internal" href="cableado_estructurado.html">Cableado Estructurado</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../odoo/index.html">Odoo</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../odoo/01_ERP-CRM.html">ERP-CRM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/02_odoo.html">Odoo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/03_Inf_empresa.html">Información de la empresa</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/04_taza_lapiz_camiseta.html">Taza, lápiz y camiseta</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/05_Directorio_fotos.html">Directorio Fotos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/06_instalacion_odoo.html">Instalación odoo y backup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/07_Sitio_Web.html">Sitio Web</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/08_Usuarios_sistema.html">Usuarios del sistema</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/09_empleados.html">Empleados</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/10_copia_seguridad.html">Copia de seguridad</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/11_Inventario.html">Inventario</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/12_ventas.html">Ventas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/13_calendario.html">Calendario</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/14_proyecto.html">Proyecto</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/15_encuestas.html">Encuestas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/16_ausencias.html">Ausencias</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/17_tableros.html">Tableros</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/18_mantenimineto.html">Mantenimiento</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/19_notas.html">Notas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/20_crm.html">CRM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/21_flota.html">Flota</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/22_punto_venta.html">Punto de venta</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/23_restaurante.html">Restaurante</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/24_compra.html">Compra</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/25_reparaciones.html">Reparaciones</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/26_eventos.html">Eventos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/27_modulo.html">Crear un modulo/app</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/28_crear_campo.html">Crear campo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/29_infomod.html">Información del módulo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/30_selfenvuser.html">self.env.user</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/31_menuitem.html">Menuitem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../odoo/32_presentacion.html">Presentación</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../python/index.html">Python</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Descarga esta pagina">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/redes/casos_practicos.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Descargar archivo fuente"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Imprimir en PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Modo de pantalla completa"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Búsqueda" aria-label="Búsqueda" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Casos prácticos</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contenido </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#caso-practico-router-cisco">Caso práctico: Router Cisco</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#caso-practico-router-cisco-dhcp">Caso práctico: Router Cisco (DHCP)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#diagrama-de-flujo-dhcp">Diagrama de flujo DHCP</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#caso-practico-telnet-ssh">Caso práctico: telnet &amp; ssh</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#caso-practico-router-cisco-cloud">Caso práctico: Router Cisco (Cloud)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#caso-practico-router-cisco-enrutamiento-estatico">Caso práctico: Router Cisco (Enrutamiento estático)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#caso-practico-router-cisco-enrutamiento-dinamico">Caso práctico: Router Cisco (Enrutamiento dinamico)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#caso-practico-router-cisco-7r">Caso práctico: Router Cisco (7R)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#caso-practico-router-mikrotik">Caso práctico: Router MikroTik</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#caso-practico-vyos">Caso práctico: Vyos</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="casos-practicos">
<h1>Casos prácticos<a class="headerlink" href="#casos-practicos" title="Link to this heading">#</a></h1>
<section id="caso-practico-router-cisco">
<h2>Caso práctico: Router Cisco<a class="headerlink" href="#caso-practico-router-cisco" title="Link to this heading">#</a></h2>
<p>Para instalar el router Cisco 7200 en GNS3 seguiremos los siguientes pasos:</p>
<ol class="arabic simple">
<li><p>Descarga la imagen para el router <strong>Cisco c7200-adventerprisek9-mz.153-3.XB12.image</strong></p></li>
<li><p>Añadelo a GNS3 ( New template / Install an appliance from the GNS3 server (recommended)</p></li>
<li><p>En <strong>Routers</strong> selecciona <strong>Cisco 7200</strong></p></li>
<li><p>Install the appliance on your local computer</p></li>
<li><p>Cuando estes en (Required files) presiona Import y busca los archivos que te has descargado.</p></li>
</ol>
<p>Realiza la siguiente red, necesitaras añadir otro slots en el router (PA-FE-TX)</p>
<img alt="../_images/cisco7200_01.png" src="../_images/cisco7200_01.png" />
<p>Configura los pcs virtuales (VPC)</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">set</span><span class="w"> </span>pcname<span class="w"> </span><span class="m">192</span>.168.1.10/24
ip<span class="w"> </span><span class="m">192</span>.168.1.10/24<span class="w"> </span><span class="m">192</span>.168.1.1

<span class="nb">set</span><span class="w"> </span>pcname<span class="w"> </span><span class="m">192</span>.168.1.11/24
ip<span class="w"> </span><span class="m">192</span>.168.1.11/24<span class="w"> </span><span class="m">192</span>.168.1.1

<span class="nb">set</span><span class="w"> </span>pcname<span class="w"> </span><span class="m">192</span>.168.2.10/24
ip<span class="w"> </span><span class="m">192</span>.168.2.10/24<span class="w"> </span><span class="m">192</span>.168.2.1
</pre></div>
</div>
<p>Fíjate que los Pcs virtuales (VPC) no pueden verse los que estan en subredes diferentes</p>
<img alt="../_images/cisco7200_02.png" src="../_images/cisco7200_02.png" />
<p>Vamos a configuración las interfaces de red del router, pondremos a FastEthernet0/0 la ip 192.168.1.1 y FastEthernet0/1 para la ip 192.168.2.1</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">enable</span>
configure<span class="w"> </span>terminal
<span class="w"> </span>interface<span class="w"> </span>FastEthernet0/0
<span class="w"> </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">192</span>.168.1.1<span class="w"> </span><span class="m">255</span>.255.255.0
no<span class="w"> </span>shutdown
<span class="nb">exit</span>
interface<span class="w"> </span>FastEthernet1/0
<span class="w"> </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">192</span>.168.2.1<span class="w"> </span><span class="m">255</span>.255.255.0
<span class="w"> </span>no<span class="w"> </span>shutdown
<span class="nb">exit</span>
</pre></div>
</div>
<p>Puedes comprobar que las interfaces de red estan configruadas correctamente con el comando <code class="docutils literal notranslate"><span class="pre">show</span> <span class="pre">ip</span> <span class="pre">interface</span> <span class="pre">brief</span></code>. Fijate que cuando configuras las interfaces del router Cisco 7200, el enrutamiento básico se configura automáticamente</p>
<img alt="../_images/cisco7200_03.png" src="../_images/cisco7200_03.png" />
<p>Para ver las tablas de enrutamiento ejecutamos el comando <code class="docutils literal notranslate"><span class="pre">show</span> <span class="pre">ip</span> <span class="pre">route</span></code></p>
<img alt="../_images/cisco7200_04.png" src="../_images/cisco7200_04.png" />
</section>
<section id="caso-practico-router-cisco-dhcp">
<h2>Caso práctico: Router Cisco (DHCP)<a class="headerlink" href="#caso-practico-router-cisco-dhcp" title="Link to this heading">#</a></h2>
<p>Vamos a crear un servidor dhcp para la red 10.0.0.0/26</p>
<img alt="../_images/cisco_dhcp.png" src="../_images/cisco_dhcp.png" />
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">enable</span>
configure<span class="w"> </span>terminal
<span class="w"> </span>service<span class="w"> </span>dhcp
<span class="w"> </span>ip<span class="w"> </span>dhcp<span class="w"> </span>pool<span class="w"> </span>tu_nombre
<span class="w"> </span>network<span class="w"> </span><span class="m">10</span>.0.0.0<span class="w"> </span><span class="m">255</span>.255.255.192
<span class="w"> </span>default-router<span class="w"> </span><span class="m">10</span>.0.0.1
<span class="w"> </span>dns-server<span class="w"> </span><span class="m">8</span>.8.8.8
<span class="w"> </span>lease<span class="w"> </span><span class="m">2</span>
<span class="w">  </span>ip<span class="w"> </span>dhcp<span class="w"> </span>excluded-address<span class="w"> </span><span class="m">10</span>.0.0.1<span class="w"> </span><span class="m">10</span>.0.0.9
<span class="w">  </span>interface<span class="w"> </span>FastEthernet0/0
<span class="w">  </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">10</span>.0.0.1<span class="w"> </span><span class="m">255</span>.255.255.192
<span class="w">  </span>no<span class="w"> </span>shutdown
<span class="w"> </span><span class="nb">exit</span>
end
write<span class="w"> </span>memory
</pre></div>
</div>
<p>La opción <code class="docutils literal notranslate"><span class="pre">lease</span> <span class="pre">2</span></code>, establece un período de arrendamiento de 2 días para las direcciones IP asignadas.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>show<span class="w"> </span>ip<span class="w"> </span>dhcp<span class="w"> </span>pool<span class="w">  </span><span class="c1"># Muestra los pools creados</span>
show<span class="w"> </span>ip<span class="w"> </span>dhcp<span class="w"> </span>binding<span class="w"> </span><span class="c1"># Lista las asignaciones de IP</span>
debug<span class="w"> </span>ip<span class="w"> </span>dhcp<span class="w"> </span>server<span class="w"> </span><span class="c1"># Depuración en tiempo real</span>
</pre></div>
</div>
<p>Podemos ver lo que ocurre con Wireshark, para ello seleccionamos el cable que une el router con el switch, pulsamos el botón derecho del ratón:</p>
<img alt="../_images/Wireshark.png" src="../_images/Wireshark.png" />
<p>Vemos la captura de paquetes:</p>
<img alt="../_images/Wireshark_captura.png" src="../_images/Wireshark_captura.png" />
<ol class="arabic simple">
<li><p>Tenemos <strong>DHCP Discover</strong> (Descubrimiento), frame 406. El cliente envía un paquete DHCP Discover (broadcast) para localizar servidores DHCP.</p>
<ul class="simple">
<li><p>Transaction ID: 0x950b2e53 (identificador único de la transacción).</p></li>
<li><p>Origen: 0.0.0.0 (cliente sin IP).</p></li>
<li><p>Destino: 255.255.255.255 (broadcast).</p></li>
</ul>
</li>
<li><p><strong>DHCP Offer</strong> (Oferta), frame 342. El servidor DHCP responde con un DHCP Offer, ofreciendo una IP (10.0.0.11 en este caso).</p>
<ul class="simple">
<li><p>Transaction ID: 0x950b2e53 (misma que el Discover).</p></li>
<li><p>Origen: IP del servidor DHCP (10.0.0.1).</p></li>
</ul>
</li>
<li><p><strong>DHCP Request</strong> (Solicitud), frame 406 (segundo). El cliente acepta la oferta y envía un DHCP Request (broadcast).</p>
<ul class="simple">
<li><p>Confirma que quiere la IP 10.0.0.11.</p></li>
</ul>
</li>
<li><p><strong>DHCP ACK</strong> (Confirmación), frame 342 (segundo). El servidor confirma con un DHCP ACK, asignando oficialmente la IP 10.0.0.11 al cliente.</p></li>
<li><p><strong>ARP Gratuito</strong> (Gratuitous ARP), frames posteriores. El cliente envía Gratuitous ARP (broadcast) para verificar que la IP 10.0.0.11 no esté en uso con el objetivo de evitar conflictos de IP en la red</p></li>
</ol>
<section id="diagrama-de-flujo-dhcp">
<h3>Diagrama de flujo DHCP<a class="headerlink" href="#diagrama-de-flujo-dhcp" title="Link to this heading">#</a></h3>
<ol class="arabic simple">
<li><p>Cliente (0.0.0.0) –[DHCP Discover]–&gt; Broadcast (255.255.255.255)</p></li>
<li><p>Servidor (10.0.0.1) –[DHCP Offer]–&gt; Cliente</p></li>
<li><p>Cliente –[DHCP Request]–&gt; Broadcast</p></li>
<li><p>Servidor –[DHCP ACK]–&gt; Cliente (IP asignada: 10.0.0.11)</p></li>
<li><p>Cliente –[Gratuitous ARP]–&gt; Broadcast (verifica IP)</p></li>
</ol>
</section>
</section>
<section id="caso-practico-telnet-ssh">
<h2>Caso práctico: telnet &amp; ssh<a class="headerlink" href="#caso-practico-telnet-ssh" title="Link to this heading">#</a></h2>
<p>Unimos dos routers y habilitamos la consexión telnet y ssh, cambia <code class="docutils literal notranslate"><span class="pre">domain-name</span> <span class="pre">tunombre</span></code> y la contraseña <code class="docutils literal notranslate"><span class="pre">alumno</span></code>  por <code class="docutils literal notranslate"><span class="pre">tu</span> <span class="pre">nombre</span></code></p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-0-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-0-0-0" name="0-0" role="tab" tabindex="0">telnet &amp; ssh</button><button aria-controls="panel-0-0-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-0-0-1" name="0-1" role="tab" tabindex="-1">R1</button><button aria-controls="panel-0-0-2" aria-selected="false" class="sphinx-tabs-tab" id="tab-0-0-2" name="0-2" role="tab" tabindex="-1">R2</button></div><div aria-labelledby="tab-0-0-0" class="sphinx-tabs-panel" id="panel-0-0-0" name="0-0" role="tabpanel" tabindex="0"><img alt="../_images/R2WS.png" src="../_images/R2WS.png" />
</div><div aria-labelledby="tab-0-0-1" class="sphinx-tabs-panel" hidden="true" id="panel-0-0-1" name="0-1" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="nb">enable</span>
<span class="w"> </span>configure<span class="w"> </span>terminal
<span class="w"> </span>hostname<span class="w"> </span>R1
<span class="hll"><span class="w"> </span>ip<span class="w"> </span>domain-name<span class="w"> </span>tunombre
</span><span class="w"> </span>interface<span class="w"> </span>FastEthernet0/0
<span class="w">  </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">10</span>.0.0.1<span class="w"> </span><span class="m">255</span>.255.255.0
<span class="w">  </span>no<span class="w"> </span>shutdown
<span class="w"> </span>crypto<span class="w"> </span>key<span class="w"> </span>generate<span class="w"> </span>rsa<span class="w"> </span>general-keys<span class="w"> </span>modulus<span class="w"> </span><span class="m">2048</span>
<span class="w"> </span>ip<span class="w"> </span>ssh<span class="w"> </span>version<span class="w"> </span><span class="m">2</span>
<span class="hll"><span class="w"> </span>username<span class="w"> </span>admin<span class="w"> </span>privilege<span class="w"> </span><span class="m">15</span><span class="w"> </span>secret<span class="w"> </span>alumno
</span><span class="w"> </span>line<span class="w"> </span>vty<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">4</span>
<span class="w">  </span>transport<span class="w"> </span>input<span class="w"> </span>telnet<span class="w"> </span>ssh
<span class="w">  </span>login<span class="w"> </span><span class="nb">local</span>
<span class="w"> </span>end
<span class="w"> </span>write<span class="w"> </span>memory
</pre></div>
</div>
</div><div aria-labelledby="tab-0-0-2" class="sphinx-tabs-panel" hidden="true" id="panel-0-0-2" name="0-2" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="nb">enable</span>
<span class="w"> </span>configure<span class="w"> </span>terminal
<span class="w"> </span>hostname<span class="w"> </span>R2
<span class="hll"><span class="w"> </span>ip<span class="w"> </span>domain-name<span class="w"> </span>tunombre
</span><span class="w"> </span>interface<span class="w"> </span>FastEthernet0/0
<span class="w">  </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">10</span>.0.0.2<span class="w"> </span><span class="m">255</span>.255.255.0
<span class="w">  </span>no<span class="w"> </span>shutdown
<span class="w"> </span>crypto<span class="w"> </span>key<span class="w"> </span>generate<span class="w"> </span>rsa<span class="w"> </span>general-keys<span class="w"> </span>modulus<span class="w"> </span><span class="m">2048</span>
<span class="w"> </span>ip<span class="w"> </span>ssh<span class="w"> </span>version<span class="w"> </span><span class="m">2</span>
<span class="hll"><span class="w"> </span>username<span class="w"> </span>admin<span class="w"> </span>privilege<span class="w"> </span><span class="m">15</span><span class="w"> </span>secret<span class="w"> </span>alumno
</span><span class="w"> </span>line<span class="w"> </span>vty<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">4</span>
<span class="w">  </span>transport<span class="w"> </span>input<span class="w"> </span>telnet<span class="w"> </span>ssh
<span class="w">  </span>login<span class="w"> </span><span class="nb">local</span>
<span class="w"> </span>end
<span class="w"> </span>write<span class="w"> </span>memory
</pre></div>
</div>
</div></div>
<p>Analizamos con Wireshark la conexión entre los dos routers, podemos hacer un ping entre el router R1 y el R2 y filtrar los paquetes por ARP:</p>
<img alt="../_images/arp.png" src="../_images/arp.png" />
<p>Como podemos ver esta captura muestra el tráfico ARP (Address Resolution Protocol) entre dos routers (R1 y R2) en GNS3. ARP se utiliza para resolver direcciones IP a direcciones MAC</p>
<p>Lo siguiente que haremos es capturar los paquetes mientras que ejecutamos desde R1 <code class="docutils literal notranslate"><span class="pre">telnet</span> <span class="pre">10.0.0.2</span></code></p>
<p>Para ver la contraseña tenemos que reconstruir la sesión, es decir sigue el flujo TCP completo haz clic derecho sobre cualquier paquete Telnet (ej. No. 47) y selecciona: Follow → TCP Stream (o «Seguir → Flujo TCP»).</p>
<img alt="../_images/R2WS_telnet.png" src="../_images/R2WS_telnet.png" />
<p>En el caso de que hagamos lo mismo y ejecutamos desde R1 <code class="docutils literal notranslate"><span class="pre">ssh</span> <span class="pre">-l</span> <span class="pre">admin</span> <span class="pre">10.0.0.2</span></code> obtendriamos:</p>
<img alt="../_images/R2WS_ssh.png" src="../_images/R2WS_ssh.png" />
<p>Lo que veríamos son los algoritmos negociados en Key Exchange Init (paquete 105): Negociación de claves (ej: Diffie-Hellman) y New Keys (paquete 125): Confirmación de cifrado.
En SSH, no es posible capturar el hash de la contraseña directamente desde el tráfico de red. El protocolo SSH cifra toda la comunicación (incluyendo credenciales) usando algoritmos como Diffie-Hellman y AES, en este caso podemos ver Diffie-Hellman Group Exchange (paquetes 111 y 121): Intercambio de parámetros para generar claves temporales.</p>
</section>
<section id="caso-practico-router-cisco-cloud">
<h2>Caso práctico: Router Cisco (Cloud)<a class="headerlink" href="#caso-practico-router-cisco-cloud" title="Link to this heading">#</a></h2>
<p>En GNS3, el Cloud sirve para conectar tu laboratorio virtual con el mundo exterior, es decir, con tu computadora anfitriona (host) y, a través de ella, con Internet o redes físicas reales.</p>
<img alt="../_images/cisco_cloud.png" src="../_images/cisco_cloud.png" />
<p>Configura el router con la ip <strong>10.4.X.Y</strong>, siendo X e Y los valores de tu ip. En el caso de tener un portatil tendrás que usar un dhcp y el gateway 192.168.3.1</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">enable</span>
configure<span class="w"> </span>terminal
access-list<span class="w"> </span><span class="m">100</span><span class="w"> </span>permit<span class="w"> </span>ip<span class="w"> </span><span class="m">20</span>.0.0.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>any
ip<span class="w"> </span>nat<span class="w"> </span>inside<span class="w"> </span><span class="nb">source</span><span class="w"> </span>list<span class="w"> </span><span class="m">100</span><span class="w"> </span>interface<span class="w"> </span>FastEthernet1/0<span class="w"> </span>overload
interface<span class="w"> </span>FastEthernet0/0
<span class="w"> </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">20</span>.0.0.1<span class="w"> </span><span class="m">255</span>.255.255.0
<span class="w"> </span>no<span class="w"> </span>shutdown
<span class="w"> </span>ip<span class="w"> </span>nat<span class="w"> </span>inside
interface<span class="w"> </span>FastEthernet1/0
<span class="hll"><span class="w"> </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">10</span>.4.104.100<span class="w"> </span><span class="m">255</span>.0.0.0
</span><span class="w"> </span>no<span class="w"> </span>shutdown
<span class="w"> </span>ip<span class="w"> </span>nat<span class="w"> </span>outside
ip<span class="w"> </span>route<span class="w"> </span><span class="m">0</span>.0.0.0<span class="w"> </span><span class="m">0</span>.0.0.0<span class="w"> </span><span class="m">10</span>.0.0.2
end
write<span class="w"> </span>memory
</pre></div>
</div>
</section>
<section id="caso-practico-router-cisco-enrutamiento-estatico">
<h2>Caso práctico: Router Cisco (Enrutamiento estático)<a class="headerlink" href="#caso-practico-router-cisco-enrutamiento-estatico" title="Link to this heading">#</a></h2>
<img alt="../_images/cisco3R.png" src="../_images/cisco3R.png" />
<p><strong>R1</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">enable</span>
configure<span class="w"> </span>terminal
interface<span class="w"> </span>FastEthernet0/0
<span class="w"> </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">192</span>.168.1.1<span class="w"> </span><span class="m">255</span>.255.255.0
<span class="w"> </span>no<span class="w"> </span>shutdown
interface<span class="w"> </span>FastEthernet1/0
<span class="w"> </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">192</span>.168.2.1<span class="w"> </span><span class="m">255</span>.255.255.252
<span class="w"> </span>no<span class="w"> </span>shutdown
ip<span class="w"> </span>route<span class="w"> </span><span class="m">172</span>.16.0.0<span class="w"> </span><span class="m">255</span>.255.255.0<span class="w"> </span><span class="m">192</span>.168.2.2
ip<span class="w"> </span>route<span class="w"> </span><span class="m">20</span>.0.0.0<span class="w"> </span><span class="m">255</span>.255.255.0<span class="w"> </span><span class="m">192</span>.168.2.2
ip<span class="w"> </span>route<span class="w"> </span><span class="m">192</span>.168.4.0<span class="w"> </span><span class="m">255</span>.255.252.0<span class="w"> </span><span class="m">192</span>.168.1.1
ip<span class="w"> </span>route<span class="w"> </span><span class="m">0</span>.0.0.0<span class="w"> </span><span class="m">0</span>.0.0.0<span class="w"> </span><span class="m">192</span>.168.2.2
end
write<span class="w"> </span>memory
</pre></div>
</div>
<p><strong>R2</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">enable</span>
configure<span class="w"> </span>terminal
interface<span class="w"> </span>FastEthernet0/0
<span class="w"> </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">172</span>.16.0.1<span class="w"> </span><span class="m">255</span>.255.255.0
<span class="w"> </span>no<span class="w"> </span>shutdown
interface<span class="w"> </span>FastEthernet1/0
<span class="w"> </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">192</span>.168.2.2<span class="w"> </span><span class="m">255</span>.255.255.252
<span class="w"> </span>no<span class="w"> </span>shutdown
interface<span class="w"> </span>FastEthernet2/0
<span class="w"> </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">192</span>.168.3.1<span class="w"> </span><span class="m">255</span>.255.255.252
<span class="w"> </span>no<span class="w"> </span>shutdown
ip<span class="w"> </span>route<span class="w"> </span><span class="m">192</span>.168.1.0<span class="w"> </span><span class="m">255</span>.255.255.0<span class="w"> </span><span class="m">192</span>.168.2.1
ip<span class="w"> </span>route<span class="w"> </span><span class="m">20</span>.0.0.0<span class="w"> </span><span class="m">255</span>.255.255.0<span class="w"> </span><span class="m">192</span>.168.3.2
ip<span class="w"> </span>route<span class="w"> </span><span class="m">172</span>.16.0.0<span class="w"> </span><span class="m">255</span>.255.255.0<span class="w"> </span><span class="m">172</span>.16.0.1
ip<span class="w"> </span>route<span class="w"> </span><span class="m">0</span>.0.0.0<span class="w"> </span><span class="m">0</span>.0.0.0<span class="w"> </span><span class="m">192</span>.168.3.2
end
write<span class="w"> </span>memory
</pre></div>
</div>
<p><strong>R3</strong></p>
<p>Configura el router con la ip <strong>10.4.X.Y</strong>, siendo X e Y los valores de tu ip</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">enable</span>
configure<span class="w"> </span>terminal
access-list<span class="w"> </span><span class="m">100</span><span class="w"> </span>permit<span class="w"> </span>ip<span class="w"> </span><span class="m">20</span>.0.0.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>any
access-list<span class="w"> </span><span class="m">100</span><span class="w"> </span>permit<span class="w"> </span>ip<span class="w"> </span><span class="m">172</span>.16.0.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>any
access-list<span class="w"> </span><span class="m">100</span><span class="w"> </span>permit<span class="w"> </span>ip<span class="w"> </span><span class="m">192</span>.168.1.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>any
<span class="w"> </span>ip<span class="w"> </span>nat<span class="w"> </span>inside<span class="w"> </span><span class="nb">source</span><span class="w"> </span>list<span class="w"> </span><span class="m">100</span><span class="w"> </span>interface<span class="w"> </span>FastEthernet2/0<span class="w"> </span>overload
interface<span class="w"> </span>FastEthernet0/0
<span class="w"> </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">20</span>.0.0.1<span class="w"> </span><span class="m">255</span>.255.255.0
<span class="w"> </span>no<span class="w"> </span>shutdown
<span class="w"> </span>ip<span class="w"> </span>nat<span class="w"> </span>inside
interface<span class="w"> </span>FastEthernet1/0
<span class="w"> </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">192</span>.168.3.2<span class="w"> </span><span class="m">255</span>.255.255.252
<span class="w"> </span>no<span class="w"> </span>shutdown
<span class="w"> </span>ip<span class="w"> </span>nat<span class="w"> </span>inside
interface<span class="w"> </span>FastEthernet2/0
<span class="hll"><span class="w"> </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">10</span>.4.104.100<span class="w"> </span><span class="m">255</span>.0.0.0
</span><span class="w"> </span>no<span class="w"> </span>shutdown
<span class="w"> </span>ip<span class="w"> </span>nat<span class="w"> </span>outside
ip<span class="w"> </span>route<span class="w"> </span><span class="m">192</span>.168.1.0<span class="w"> </span><span class="m">255</span>.255.255.0<span class="w"> </span><span class="m">192</span>.168.3.1
ip<span class="w"> </span>route<span class="w"> </span><span class="m">172</span>.16.0.0<span class="w"> </span><span class="m">255</span>.255.255.0<span class="w"> </span><span class="m">192</span>.168.3.1
ip<span class="w"> </span>route<span class="w"> </span><span class="m">192</span>.168.2.0<span class="w"> </span><span class="m">255</span>.255.255.252<span class="w"> </span><span class="m">192</span>.168.3.1
ip<span class="w"> </span>route<span class="w"> </span><span class="m">0</span>.0.0.0<span class="w"> </span><span class="m">0</span>.0.0.0<span class="w"> </span><span class="m">10</span>.0.0.2
end
write<span class="w"> </span>memory
</pre></div>
</div>
</section>
<section id="caso-practico-router-cisco-enrutamiento-dinamico">
<h2>Caso práctico: Router Cisco (Enrutamiento dinamico)<a class="headerlink" href="#caso-practico-router-cisco-enrutamiento-dinamico" title="Link to this heading">#</a></h2>
<p>vamos a configurar los anteriores routers con <strong>OSPF</strong> (Open Shortest Path First) es un protocolo de enrutamiento dinámico utilizado en redes IP para determinar las mejores rutas hacia destinos dentro de una red.</p>
<p>Configura el router con la ip <strong>10.4.X.Y</strong>, siendo X e Y los valores de tu ip</p>
<p><strong>R1</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">enable</span>
configure<span class="w"> </span>terminal
interface<span class="w"> </span>FastEthernet0/0
<span class="w"> </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">192</span>.168.1.1<span class="w"> </span><span class="m">255</span>.255.255.0
<span class="w"> </span>no<span class="w"> </span>shutdown
interface<span class="w"> </span>FastEthernet1/0
<span class="w"> </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">192</span>.168.2.1<span class="w"> </span><span class="m">255</span>.255.255.252
<span class="w"> </span>no<span class="w"> </span>shutdown
router<span class="w"> </span>ospf<span class="w"> </span><span class="m">1</span>
<span class="w"> </span>network<span class="w"> </span><span class="m">192</span>.168.1.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>area<span class="w"> </span><span class="m">0</span>
<span class="w"> </span>network<span class="w"> </span><span class="m">192</span>.168.2.0<span class="w"> </span><span class="m">0</span>.0.0.3<span class="w"> </span>area<span class="w"> </span><span class="m">0</span>

redistribute<span class="w"> </span>static<span class="w"> </span>subnets
redistribute<span class="w"> </span>connected<span class="w"> </span>subnets
default-information<span class="w"> </span>originate
end
write<span class="w"> </span>memory
</pre></div>
</div>
<p><strong>R2</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">enable</span>
configure<span class="w"> </span>terminal
interface<span class="w"> </span>FastEthernet0/0
<span class="w"> </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">172</span>.16.0.1<span class="w"> </span><span class="m">255</span>.255.255.0
<span class="w"> </span>no<span class="w"> </span>shutdown
interface<span class="w"> </span>FastEthernet1/0
<span class="w"> </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">192</span>.168.2.2<span class="w"> </span><span class="m">255</span>.255.255.252
<span class="w"> </span>no<span class="w"> </span>shutdown
interface<span class="w"> </span>FastEthernet2/0
<span class="w"> </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">192</span>.168.3.1<span class="w"> </span><span class="m">255</span>.255.255.252
<span class="w"> </span>no<span class="w"> </span>shutdown
router<span class="w"> </span>ospf<span class="w"> </span><span class="m">1</span>
<span class="w"> </span>network<span class="w"> </span><span class="m">172</span>.16.0.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>area<span class="w"> </span><span class="m">0</span>
<span class="w"> </span>network<span class="w"> </span><span class="m">192</span>.168.2.0<span class="w"> </span><span class="m">0</span>.0.0.3<span class="w"> </span>area<span class="w"> </span><span class="m">0</span>
<span class="w"> </span>network<span class="w"> </span><span class="m">192</span>.168.3.0<span class="w"> </span><span class="m">0</span>.0.0.3<span class="w"> </span>area<span class="w"> </span><span class="m">0</span>
default-information<span class="w"> </span>originate
end
write<span class="w"> </span>memory
</pre></div>
</div>
<p><strong>R3</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">enable</span>
configure<span class="w"> </span>terminal
access-list<span class="w"> </span><span class="m">100</span><span class="w"> </span>permit<span class="w"> </span>ip<span class="w"> </span><span class="m">20</span>.0.0.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>any
access-list<span class="w"> </span><span class="m">100</span><span class="w"> </span>permit<span class="w"> </span>ip<span class="w"> </span><span class="m">172</span>.16.0.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>any
access-list<span class="w"> </span><span class="m">100</span><span class="w"> </span>permit<span class="w"> </span>ip<span class="w"> </span><span class="m">192</span>.168.1.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>any
<span class="w"> </span>ip<span class="w"> </span>nat<span class="w"> </span>inside<span class="w"> </span><span class="nb">source</span><span class="w"> </span>list<span class="w"> </span><span class="m">100</span><span class="w"> </span>interface<span class="w"> </span>FastEthernet2/0<span class="w"> </span>overload
interface<span class="w"> </span>FastEthernet0/0
<span class="w"> </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">20</span>.0.0.1<span class="w"> </span><span class="m">255</span>.255.255.0
<span class="w"> </span>no<span class="w"> </span>shutdown
<span class="w"> </span>ip<span class="w"> </span>nat<span class="w"> </span>inside<span class="w">  </span>!<span class="w"> </span>Zona<span class="w"> </span>interna<span class="w"> </span><span class="o">(</span>NAT<span class="o">)</span>
interface<span class="w"> </span>FastEthernet1/0
<span class="w"> </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">192</span>.168.3.2<span class="w"> </span><span class="m">255</span>.255.255.252
<span class="w"> </span>no<span class="w"> </span>shutdown
<span class="w"> </span>ip<span class="w"> </span>nat<span class="w"> </span>inside<span class="w">  </span>!<span class="w"> </span>Zona<span class="w"> </span>interna<span class="w"> </span><span class="o">(</span>NAT<span class="o">)</span>
interface<span class="w"> </span>FastEthernet2/0
<span class="hll"><span class="w"> </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">10</span>.4.104.100<span class="w"> </span><span class="m">255</span>.0.0.0
</span><span class="w"> </span>no<span class="w"> </span>shutdown
<span class="w"> </span>ip<span class="w"> </span>nat<span class="w"> </span>outside<span class="w"> </span>!<span class="w"> </span>Zona<span class="w"> </span>externa<span class="w"> </span><span class="o">(</span>Internet/salida<span class="w"> </span>NAT<span class="o">)</span>
router<span class="w"> </span>ospf<span class="w"> </span><span class="m">1</span>
<span class="w"> </span>network<span class="w"> </span><span class="m">20</span>.0.0.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>area<span class="w"> </span><span class="m">0</span>
<span class="w"> </span>network<span class="w"> </span><span class="m">192</span>.168.3.0<span class="w"> </span><span class="m">0</span>.0.0.3<span class="w"> </span>area<span class="w"> </span><span class="m">0</span>
<span class="w"> </span>passive-interface<span class="w"> </span>FastEthernet0/0
<span class="w"> </span>default-information<span class="w"> </span>originate
ip<span class="w"> </span>route<span class="w"> </span><span class="m">0</span>.0.0.0<span class="w"> </span><span class="m">0</span>.0.0.0<span class="w"> </span><span class="m">10</span>.0.0.2
end
write<span class="w"> </span>memory
</pre></div>
</div>
<p>Podemos diagnosticar el funcionamiento con los siguientes comandos:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>show<span class="w"> </span>ip<span class="w"> </span>ospf<span class="w"> </span>neighbor<span class="w">                  </span><span class="c1"># Lista de routers vecinos OSPF y su estado.</span>
show<span class="w"> </span>ip<span class="w"> </span>route<span class="w"> </span>ospf<span class="w">                     </span><span class="c1"># La base de datos de enlaces (LSDB) con todos los LSA (Link-State Advertisements).</span>
show<span class="w"> </span>ip<span class="w"> </span>ospf<span class="w"> </span>interface<span class="w"> </span>FastEthernet1/0<span class="w"> </span><span class="c1"># Rutas en la tabla de enrutamiento aprendidas por OSPF</span>
show<span class="w"> </span>ip<span class="w"> </span>ospf<span class="w"> </span>database<span class="w"> </span>summary<span class="w">          </span><span class="c1">#Muestra información general</span>
</pre></div>
</div>
</section>
<section id="caso-practico-router-cisco-7r">
<h2>Caso práctico: Router Cisco (7R)<a class="headerlink" href="#caso-practico-router-cisco-7r" title="Link to this heading">#</a></h2>
<p>vamos a configurar los siguientes routers con <strong>OSPF</strong>:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-1-1-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-1-1-0" name="1-0" role="tab" tabindex="0">Router Cisco (7R)</button><button aria-controls="panel-1-1-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-1-1-1" name="1-1" role="tab" tabindex="-1">Configuración de routers</button></div><div aria-labelledby="tab-1-1-0" class="sphinx-tabs-panel" id="panel-1-1-0" name="1-0" role="tabpanel" tabindex="0"><img alt="../_images/Cisco7R.png" src="../_images/Cisco7R.png" />
<img alt="../_images/Cisco7R_ping.png" src="../_images/Cisco7R_ping.png" />
</div><div aria-labelledby="tab-1-1-1" class="sphinx-tabs-panel" hidden="true" id="panel-1-1-1" name="1-1" role="tabpanel" tabindex="0"><p><strong>R1</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">enable</span>
configure<span class="w"> </span>terminal
interface<span class="w"> </span>FastEthernet1/0
<span class="w"> </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">10</span>.0.1.1<span class="w"> </span><span class="m">255</span>.255.255.0
<span class="w"> </span>no<span class="w"> </span>shutdown
interface<span class="w"> </span>FastEthernet0/0
<span class="w"> </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">10</span>.0.2.2<span class="w"> </span><span class="m">255</span>.255.255.0
<span class="w"> </span>no<span class="w"> </span>shutdown
router<span class="w"> </span>ospf<span class="w"> </span><span class="m">1</span>
<span class="w"> </span>network<span class="w"> </span><span class="m">10</span>.0.1.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>area<span class="w"> </span><span class="m">0</span>
<span class="w"> </span>network<span class="w"> </span><span class="m">10</span>.0.2.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>area<span class="w"> </span><span class="m">0</span>
redistribute<span class="w"> </span>static<span class="w"> </span>subnets
redistribute<span class="w"> </span>connected<span class="w"> </span>subnets
default-information<span class="w"> </span>originate
end
write<span class="w"> </span>memory
</pre></div>
</div>
<p><strong>R2</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">enable</span>
configure<span class="w"> </span>terminal
interface<span class="w"> </span>FastEthernet0/0
<span class="w"> </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">10</span>.0.2.1<span class="w"> </span><span class="m">255</span>.255.255.0
<span class="w"> </span>no<span class="w"> </span>shutdown
interface<span class="w"> </span>FastEthernet1/0
<span class="w"> </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">10</span>.0.4.1<span class="w"> </span><span class="m">255</span>.255.255.0
<span class="w"> </span>no<span class="w"> </span>shutdown
interface<span class="w"> </span>FastEthernet2/0
<span class="w"> </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">10</span>.0.3.1<span class="w"> </span><span class="m">255</span>.255.255.0
<span class="w"> </span>no<span class="w"> </span>shutdown
router<span class="w"> </span>ospf<span class="w"> </span><span class="m">1</span>
<span class="w"> </span>network<span class="w"> </span><span class="m">10</span>.0.2.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>area<span class="w"> </span><span class="m">0</span>
<span class="w"> </span>network<span class="w"> </span><span class="m">10</span>.0.4.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>area<span class="w"> </span><span class="m">0</span>
<span class="w"> </span>network<span class="w"> </span><span class="m">10</span>.0.3.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>area<span class="w"> </span><span class="m">0</span>
redistribute<span class="w"> </span>static<span class="w"> </span>subnets
redistribute<span class="w"> </span>connected<span class="w"> </span>subnets
default-information<span class="w"> </span>originate
end
write<span class="w"> </span>memory
</pre></div>
</div>
<p><strong>R3</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">enable</span>
configure<span class="w"> </span>terminal
interface<span class="w"> </span>FastEthernet0/0
<span class="w"> </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">10</span>.0.5.1<span class="w"> </span><span class="m">255</span>.255.255.0
<span class="w"> </span>no<span class="w"> </span>shutdown
interface<span class="w"> </span>FastEthernet1/0
<span class="w"> </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">10</span>.0.4.2<span class="w"> </span><span class="m">255</span>.255.255.0
<span class="w"> </span>no<span class="w"> </span>shutdown
interface<span class="w"> </span>FastEthernet2/0
<span class="w"> </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">10</span>.0.7.1<span class="w"> </span><span class="m">255</span>.255.255.0
<span class="w"> </span>no<span class="w"> </span>shutdown
router<span class="w"> </span>ospf<span class="w"> </span><span class="m">1</span>
<span class="w"> </span>network<span class="w"> </span><span class="m">10</span>.0.5.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>area<span class="w"> </span><span class="m">0</span>
<span class="w"> </span>network<span class="w"> </span><span class="m">10</span>.0.4.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>area<span class="w"> </span><span class="m">0</span>
<span class="w"> </span>network<span class="w"> </span><span class="m">10</span>.0.7.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>area<span class="w"> </span><span class="m">0</span>
redistribute<span class="w"> </span>static<span class="w"> </span>subnets
redistribute<span class="w"> </span>connected<span class="w"> </span>subnets
default-information<span class="w"> </span>originate
end
write<span class="w"> </span>memory
</pre></div>
</div>
<p><strong>R4</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">enable</span>
configure<span class="w"> </span>terminal
interface<span class="w"> </span>FastEthernet0/0
<span class="w"> </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">10</span>.0.5.2<span class="w"> </span><span class="m">255</span>.255.255.0
<span class="w"> </span>no<span class="w"> </span>shutdown
interface<span class="w"> </span>FastEthernet1/0
<span class="w"> </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">10</span>.0.6.1<span class="w"> </span><span class="m">255</span>.255.255.0
<span class="w"> </span>no<span class="w"> </span>shutdown
interface<span class="w"> </span>FastEthernet2/0
<span class="w"> </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">10</span>.0.3.2<span class="w"> </span><span class="m">255</span>.255.255.0
<span class="w"> </span>no<span class="w"> </span>shutdown
interface<span class="w"> </span>FastEthernet3/0
<span class="w"> </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">10</span>.0.9.1<span class="w"> </span><span class="m">255</span>.255.255.0
<span class="w"> </span>no<span class="w"> </span>shutdown
router<span class="w"> </span>ospf<span class="w"> </span><span class="m">1</span>
<span class="w"> </span>network<span class="w"> </span><span class="m">10</span>.0.5.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>area<span class="w"> </span><span class="m">0</span>
<span class="w"> </span>network<span class="w"> </span><span class="m">10</span>.0.6.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>area<span class="w"> </span><span class="m">0</span>
<span class="w"> </span>network<span class="w"> </span><span class="m">10</span>.0.9.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>area<span class="w"> </span><span class="m">0</span>
<span class="w"> </span>network<span class="w"> </span><span class="m">10</span>.0.3.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>area<span class="w"> </span><span class="m">0</span>
redistribute<span class="w"> </span>static<span class="w"> </span>subnets
redistribute<span class="w"> </span>connected<span class="w"> </span>subnets
default-information<span class="w"> </span>originate
end
write<span class="w"> </span>memory
</pre></div>
</div>
<p><strong>R5</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">enable</span>
configure<span class="w"> </span>terminal
interface<span class="w"> </span>FastEthernet0/0
<span class="w"> </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">10</span>.0.8.1<span class="w"> </span><span class="m">255</span>.255.255.0
<span class="w"> </span>no<span class="w"> </span>shutdown
interface<span class="w"> </span>FastEthernet1/0
<span class="w"> </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">10</span>.0.6.2<span class="w"> </span><span class="m">255</span>.255.255.0
<span class="w"> </span>no<span class="w"> </span>shutdown
interface<span class="w"> </span>FastEthernet2/0
<span class="w"> </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">10</span>.0.7.2<span class="w"> </span><span class="m">255</span>.255.255.0
<span class="w"> </span>no<span class="w"> </span>shutdown
router<span class="w"> </span>ospf<span class="w"> </span><span class="m">1</span>
<span class="w"> </span>network<span class="w"> </span><span class="m">10</span>.0.8.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>area<span class="w"> </span><span class="m">0</span>
<span class="w"> </span>network<span class="w"> </span><span class="m">10</span>.0.6.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>area<span class="w"> </span><span class="m">0</span>
<span class="w"> </span>network<span class="w"> </span><span class="m">10</span>.0.7.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>area<span class="w"> </span><span class="m">0</span>
redistribute<span class="w"> </span>static<span class="w"> </span>subnets
redistribute<span class="w"> </span>connected<span class="w"> </span>subnets
default-information<span class="w"> </span>originate
end
write<span class="w"> </span>memory
</pre></div>
</div>
<p><strong>R6</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">enable</span>
configure<span class="w"> </span>terminal
interface<span class="w"> </span>FastEthernet0/0
<span class="w"> </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">10</span>.0.8.2<span class="w"> </span><span class="m">255</span>.255.255.0
<span class="w"> </span>no<span class="w"> </span>shutdown
interface<span class="w"> </span>FastEthernet1/0
<span class="w"> </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">10</span>.0.11.1<span class="w"> </span><span class="m">255</span>.255.255.0
<span class="w"> </span>no<span class="w"> </span>shutdown
interface<span class="w"> </span>FastEthernet2/0
<span class="w"> </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">10</span>.0.10.1<span class="w"> </span><span class="m">255</span>.255.255.0
<span class="w"> </span>no<span class="w"> </span>shutdown
router<span class="w"> </span>ospf<span class="w"> </span><span class="m">1</span>
<span class="w"> </span>network<span class="w"> </span><span class="m">10</span>.0.8.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>area<span class="w"> </span><span class="m">0</span>
<span class="w"> </span>network<span class="w"> </span><span class="m">10</span>.0.11.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>area<span class="w"> </span><span class="m">0</span>
<span class="w"> </span>network<span class="w"> </span><span class="m">10</span>.0.10.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>area<span class="w"> </span><span class="m">0</span>
redistribute<span class="w"> </span>static<span class="w"> </span>subnets
redistribute<span class="w"> </span>connected<span class="w"> </span>subnets
default-information<span class="w"> </span>originate
end
write<span class="w"> </span>memory
</pre></div>
</div>
<p><strong>R7</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">enable</span>
configure<span class="w"> </span>terminal
interface<span class="w"> </span>FastEthernet0/0
<span class="w"> </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">10</span>.0.9.2<span class="w"> </span><span class="m">255</span>.255.255.0
<span class="w"> </span>no<span class="w"> </span>shutdown
interface<span class="w"> </span>FastEthernet1/0
<span class="w"> </span>ip<span class="w"> </span>address<span class="w"> </span><span class="m">10</span>.0.10.2<span class="w"> </span><span class="m">255</span>.255.255.0
<span class="w"> </span>no<span class="w"> </span>shutdown
router<span class="w"> </span>ospf<span class="w"> </span><span class="m">1</span>
<span class="w"> </span>network<span class="w"> </span><span class="m">10</span>.0.9.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>area<span class="w"> </span><span class="m">0</span>
<span class="w"> </span>network<span class="w"> </span><span class="m">10</span>.0.10.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>area<span class="w"> </span><span class="m">0</span>
redistribute<span class="w"> </span>static<span class="w"> </span>subnets
redistribute<span class="w"> </span>connected<span class="w"> </span>subnets
default-information<span class="w"> </span>originate
end
write<span class="w"> </span>memory
</pre></div>
</div>
<p><strong>VPCS1</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">set</span><span class="w"> </span>pcname<span class="w"> </span><span class="m">10</span>.0.1.10/24
ip<span class="w"> </span><span class="m">10</span>.0.1.10/24<span class="w"> </span><span class="m">10</span>.0.1.1
</pre></div>
</div>
<p><strong>VPCS2</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">set</span><span class="w"> </span>pcname<span class="w"> </span><span class="m">10</span>.0.11.10/24
ip<span class="w"> </span><span class="m">10</span>.0.11.10/24<span class="w"> </span><span class="m">10</span>.0.11.1
</pre></div>
</div>
</div></div>
</section>
<section id="caso-practico-router-mikrotik">
<h2>Caso práctico: Router MikroTik<a class="headerlink" href="#caso-practico-router-mikrotik" title="Link to this heading">#</a></h2>
<p>ikroTik utiliza RouterOS, un sistema operativo basado en Linux diseñado específicamente para la gestión de redes, podemos bajarnos <a class="reference external" href="https://gns3.com/marketplace/appliances/mikrotik-cloud-hosted-router">mikrotik-chr.gnsa y la chr-7.16.img</a></p>
<p>Para añadirlo a GNS3 New template / Import an appliance file (.gn3a extension)</p>
<img alt="../_images/MikroTik01.png" src="../_images/MikroTik01.png" />
<p>Vamos a utilizar tres ordenadores con la siguiente configuración:</p>
<img alt="../_images/MikroTik02.png" src="../_images/MikroTik02.png" />
<p>La forma más rápida de confiruar los 3 clientes es utilizando el botón de la derecha del ráton y pulsando Edit config, copiamos en cada caso la confiruación correspondiente:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">set</span><span class="w"> </span>pcname<span class="w"> </span><span class="m">10</span>.0.1.10/24
ip<span class="w"> </span><span class="m">10</span>.0.1.10/24<span class="w"> </span><span class="m">10</span>.0.1.1

<span class="nb">set</span><span class="w"> </span>pcname<span class="w"> </span><span class="m">10</span>.0.1.11/24
ip<span class="w"> </span><span class="m">10</span>.0.1.11/24<span class="w"> </span><span class="m">10</span>.0.1.1

<span class="nb">set</span><span class="w"> </span>pcname<span class="w"> </span><span class="m">10</span>.0.2.10/24
ip<span class="w"> </span><span class="m">10</span>.0.2.10/24<span class="w"> </span><span class="m">10</span>.0.2.1
</pre></div>
</div>
<p>Haz un pantallazo como el siguiente donde se vea que la 10.0.1.10 no llega a la 10.0.2.10</p>
<p>Asigna las IPs a las Interfaces de MikroTik</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>/ip<span class="w"> </span>address<span class="w"> </span>add<span class="w"> </span><span class="nv">address</span><span class="o">=</span><span class="m">10</span>.0.1.1/24<span class="w"> </span><span class="nv">interface</span><span class="o">=</span>ether1
/ip<span class="w"> </span>address<span class="w"> </span>add<span class="w"> </span><span class="nv">address</span><span class="o">=</span><span class="m">10</span>.0.2.1/24<span class="w"> </span><span class="nv">interface</span><span class="o">=</span>ether2
</pre></div>
</div>
<p>Puedes comprobar que todo esta bien con el comando <code class="docutils literal notranslate"><span class="pre">/ip</span> <span class="pre">address</span> <span class="pre">print</span></code></p>
<p>Por defecto, MikroTik ya enruta paquetes entre interfaces con direcciones IP directamente conectadas.
Para verificar que las rutas existen, utiliza:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>/ip<span class="w"> </span>route<span class="w"> </span>print

<span class="c1">#    DST-ADDRESS     GATEWAY    DISTANCE</span>
<span class="m">0</span><span class="w">    </span><span class="m">10</span>.0.1.0/24<span class="w">     </span>ether1<span class="w">     </span><span class="m">0</span>
<span class="m">1</span><span class="w">    </span><span class="m">10</span>.0.2.0/24<span class="w">     </span>ether2<span class="w">     </span><span class="m">0</span>
</pre></div>
</div>
<p>Comprueba que ahora si llega y sube un pantallazo del ping y de las tablas de enrutamiento.</p>
</section>
<section id="caso-practico-vyos">
<h2>Caso práctico: Vyos<a class="headerlink" href="#caso-practico-vyos" title="Link to this heading">#</a></h2>
<p>Fíjate en la siguiente figura en la que se muestran 6 ordenadores unidos por 3 switch y 3 routers</p>
<img alt="../_images/Routers.png" src="../_images/Routers.png" />
<p>Como podemos ver en la figura tenemos tres segmentos de red /24 y dos segmentos de red que unen los router en /30.</p>
<p>Para este caso práctico vamos a utilizar <strong>GNS3</strong> que es un software de emulación de red de código abierto que permite a los usuarios simular topologías de red complejas y experimentar con diferentes configuraciones de red y <strong>VyOS</strong>, que es un sistema operativo de red de código abierto basado en el proyecto Vyatta. Está diseñado para ser utilizado como un enrutador de red, firewall, VPN y plataforma de virtualización de red.</p>
<p>Para instalar un Router pulsaremos a (New</p>
<p>La forma más rápida de confiruar los 6 clientes es utilizando el botón de la derecha del ráton y pulsando Edit config, copiamos en cada caso la confiruación correspondiente:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">set</span><span class="w"> </span>pcname<span class="w"> </span><span class="m">10</span>.0.1.10/24
ip<span class="w"> </span><span class="m">10</span>.0.1.10<span class="w"> </span><span class="m">10</span>.0.1.254<span class="w"> </span><span class="m">24</span>

<span class="nb">set</span><span class="w"> </span>pcname<span class="w"> </span><span class="m">10</span>.0.1.11/24
ip<span class="w"> </span><span class="m">10</span>.0.1.11<span class="w"> </span><span class="m">10</span>.0.1.254<span class="w"> </span><span class="m">24</span>

<span class="nb">set</span><span class="w"> </span>pcname<span class="w"> </span><span class="m">10</span>.0.2.10/24
ip<span class="w"> </span><span class="m">10</span>.0.2.10<span class="w"> </span><span class="m">10</span>.0.2.254<span class="w"> </span><span class="m">24</span>

<span class="nb">set</span><span class="w"> </span>pcname<span class="w"> </span><span class="m">10</span>.0.2.11/24
ip<span class="w"> </span><span class="m">10</span>.0.2.11<span class="w"> </span><span class="m">10</span>.0.2.254<span class="w"> </span><span class="m">24</span>

<span class="nb">set</span><span class="w"> </span>pcname<span class="w"> </span><span class="m">10</span>.0.3.10/24
ip<span class="w"> </span><span class="m">10</span>.0.3.10<span class="w"> </span><span class="m">10</span>.0.3.254<span class="w"> </span><span class="m">24</span>

<span class="nb">set</span><span class="w"> </span>pcname<span class="w"> </span><span class="m">10</span>.0.3.11/24
ip<span class="w"> </span><span class="m">10</span>.0.3.11<span class="w"> </span><span class="m">10</span>.0.3.254<span class="w"> </span><span class="m">24</span>
</pre></div>
</div>
<p>Abre una terminal y comprueba que los clientes solo pueden hacer ping con nodos que esten en su misma subred, para que puedan verse todos entre sí pasamos a configurar los routers, para ello empezamos con <strong>R2</strong>, abrimos la teminal y vemos que no esta configuradas las interfaces de red</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>vyos@vyos:~$<span class="w"> </span>show<span class="w"> </span>interfaces
Codes:<span class="w"> </span>S<span class="w"> </span>-<span class="w"> </span>State,<span class="w"> </span>L<span class="w"> </span>-<span class="w"> </span>Link,<span class="w"> </span>u<span class="w"> </span>-<span class="w"> </span>Up,<span class="w"> </span>D<span class="w"> </span>-<span class="w"> </span>Down,<span class="w"> </span>A<span class="w"> </span>-<span class="w"> </span>Admin<span class="w"> </span>Down
Interface<span class="w">        </span>IP<span class="w"> </span>Address<span class="w">                        </span>S/L<span class="w">  </span>Description
---------<span class="w">        </span>----------<span class="w">                        </span>---<span class="w">  </span>-----------
eth0<span class="w">             </span>-<span class="w">                                 </span>u/u
eth1<span class="w">             </span>-<span class="w">                                 </span>u/u
eth2<span class="w">             </span>-<span class="w">                                 </span>u/u
lo<span class="w">               </span><span class="m">127</span>.0.0.1/8<span class="w">                       </span>u/u
<span class="w">                </span>::1/128
</pre></div>
</div>
<p>Para configurarlas, abrimos una terminal:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>vyos@vyos:~$<span class="w"> </span>configure
WARNING:<span class="w"> </span>You<span class="w"> </span>are<span class="w"> </span>currently<span class="w"> </span>configuring<span class="w"> </span>a<span class="w"> </span>live-ISO<span class="w"> </span>environment,....
<span class="o">[</span>edit<span class="o">]</span>
vyos@vyos#<span class="w"> </span><span class="nb">set</span><span class="w"> </span>interfaces<span class="w"> </span>ethernet<span class="w"> </span>eth1<span class="w"> </span>address<span class="w"> </span><span class="m">10</span>.0.0.2/30
<span class="o">[</span>edit<span class="o">]</span>
vyos@vyos#<span class="w"> </span><span class="nb">set</span><span class="w"> </span>interfaces<span class="w"> </span>ethernet<span class="w"> </span>eth0<span class="w"> </span>address<span class="w"> </span><span class="m">10</span>.0.2.254/24
<span class="o">[</span>edit<span class="o">]</span>
vyos@vyos#<span class="w"> </span><span class="nb">set</span><span class="w"> </span>interfaces<span class="w"> </span>ethernet<span class="w"> </span>eth1<span class="w"> </span>address<span class="w"> </span><span class="m">10</span>.0.0.5/30
</pre></div>
</div>
<p>Tampoco estan configuradas las tablas de encaminamiento</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>vyos@vyos:~$<span class="w"> </span>netstat<span class="w"> </span>-r
Kernel<span class="w"> </span>IP<span class="w"> </span>routing<span class="w"> </span>table
Destination<span class="w">     </span>Gateway<span class="w">         </span>Genmask<span class="w">         </span>Flags<span class="w">   </span>MSS<span class="w"> </span>Window<span class="w">  </span>irtt<span class="w"> </span>Iface
</pre></div>
</div>
<p>Añadimos las siguientes rutas estaticas:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>vyos@vyos#<span class="w"> </span><span class="nb">set</span><span class="w"> </span>protocols<span class="w"> </span>static<span class="w"> </span>route<span class="w"> </span><span class="m">10</span>.0.1.0/24<span class="w"> </span>next-hop<span class="w"> </span><span class="m">10</span>.0.0.1
<span class="o">[</span>edit<span class="o">]</span>
vyos@vyos#<span class="w"> </span><span class="nb">set</span><span class="w"> </span>protocols<span class="w"> </span>static<span class="w"> </span>route<span class="w"> </span><span class="m">10</span>.0.3.0/24<span class="w"> </span>next-hop<span class="w"> </span><span class="m">10</span>.0.0.6
<span class="o">[</span>edit<span class="o">]</span>
</pre></div>
</div>
<p>Para que los cambios tengan efectos los subimos y salvamos:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>vyos@vyos#<span class="w"> </span>commit
<span class="o">[</span>edit<span class="o">]</span>
vyos@vyos#<span class="w"> </span>save
Saving<span class="w"> </span>configuration<span class="w"> </span>to<span class="w"> </span><span class="s1">&#39;/config/config.boot&#39;</span>...
Done
<span class="o">[</span>edit<span class="o">]</span>
</pre></div>
</div>
<p>Comprobamos la tabla de encaminamiento de <strong>R2</strong></p>
<img alt="../_images/R2.png" src="../_images/R2.png" />
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>vyos@vyos#<span class="w"> </span>netstat<span class="w"> </span>-r
Kernel<span class="w"> </span>IP<span class="w"> </span>routing<span class="w"> </span>table
Destination<span class="w">     </span>Gateway<span class="w">         </span>Genmask<span class="w">         </span>Flags<span class="w">   </span>MSS<span class="w"> </span>Window<span class="w">  </span>irtt<span class="w"> </span>Iface
<span class="m">10</span>.0.0.0<span class="w">        </span><span class="m">0</span>.0.0.0<span class="w">         </span><span class="m">255</span>.255.255.252<span class="w"> </span>U<span class="w">         </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w">          </span><span class="m">0</span><span class="w"> </span>eth1
<span class="m">10</span>.0.0.4<span class="w">        </span><span class="m">0</span>.0.0.0<span class="w">         </span><span class="m">255</span>.255.255.252<span class="w"> </span>U<span class="w">         </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w">          </span><span class="m">0</span><span class="w"> </span>eth1
<span class="m">10</span>.0.1.0<span class="w">        </span><span class="m">10</span>.0.0.1<span class="w">        </span><span class="m">255</span>.255.255.0<span class="w">   </span>UG<span class="w">        </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w">          </span><span class="m">0</span><span class="w"> </span>eth1
<span class="m">10</span>.0.2.0<span class="w">        </span><span class="m">0</span>.0.0.0<span class="w">         </span><span class="m">255</span>.255.255.0<span class="w">   </span>U<span class="w">         </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w">          </span><span class="m">0</span><span class="w"> </span>eth0
<span class="m">10</span>.0.3.0<span class="w">        </span><span class="m">10</span>.0.0.6<span class="w">        </span><span class="m">255</span>.255.255.0<span class="w">   </span>UG<span class="w">        </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w">          </span><span class="m">0</span><span class="w"> </span>eth1
<span class="o">[</span>edit<span class="o">]</span>
</pre></div>
</div>
<p>y las interfaces de red como</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>vyos@vyos#<span class="w"> </span>show<span class="w"> </span>interfaces
<span class="w"> </span>ethernet<span class="w"> </span>eth0<span class="w"> </span><span class="o">{</span>
<span class="w">     </span>address<span class="w"> </span><span class="m">10</span>.0.2.254/24
<span class="w">     </span>hw-id<span class="w"> </span>0c:51:f2:fd:00:00
<span class="w"> </span><span class="o">}</span>
<span class="w"> </span>ethernet<span class="w"> </span>eth1<span class="w"> </span><span class="o">{</span>
<span class="w">     </span>address<span class="w"> </span><span class="m">10</span>.0.0.2/30
<span class="w">     </span>address<span class="w"> </span><span class="m">10</span>.0.0.5/30
<span class="w">     </span>hw-id<span class="w"> </span>0c:51:f2:fd:00:01
<span class="w"> </span><span class="o">}</span>
<span class="w"> </span>ethernet<span class="w"> </span>eth2<span class="w"> </span><span class="o">{</span>
<span class="w">     </span>hw-id<span class="w"> </span>0c:51:f2:fd:00:02
<span class="w"> </span><span class="o">}</span>
<span class="w"> </span>loopback<span class="w"> </span>lo<span class="w"> </span><span class="o">{</span>
<span class="w"> </span><span class="o">}</span>
<span class="o">[</span>edit<span class="o">]</span>
</pre></div>
</div>
<p>Para el caso <strong>R1</strong>, ponemos un resumen de los comandos utilizados</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>show<span class="w"> </span>interfaces
configure
<span class="nb">set</span><span class="w"> </span>interfaces<span class="w"> </span>ethernet<span class="w"> </span>eth0<span class="w"> </span>address<span class="w"> </span><span class="m">10</span>.0.1.254/24
<span class="nb">set</span><span class="w"> </span>interfaces<span class="w"> </span>ethernet<span class="w"> </span>eth1<span class="w"> </span>address<span class="w"> </span><span class="m">10</span>.0.0.1/30
<span class="nb">set</span><span class="w"> </span>protocols<span class="w"> </span>static<span class="w"> </span>route<span class="w"> </span><span class="m">10</span>.0.2.0/24<span class="w"> </span>next-hop<span class="w"> </span><span class="m">10</span>.0.0.2
<span class="nb">set</span><span class="w"> </span>protocols<span class="w"> </span>static<span class="w"> </span>route<span class="w"> </span><span class="m">10</span>.0.3.0/24<span class="w"> </span>next-hop<span class="w"> </span><span class="m">10</span>.0.0.2
commit
save
</pre></div>
</div>
<p>Comprobamos la tabla de encaminamiento de <strong>R1</strong></p>
<img alt="../_images/R2.png" src="../_images/R2.png" />
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>vyos@vyos#<span class="w"> </span>netstat<span class="w"> </span>-r
Kernel<span class="w"> </span>IP<span class="w"> </span>routing<span class="w"> </span>table
Destination<span class="w">     </span>Gateway<span class="w">         </span>Genmask<span class="w">         </span>Flags<span class="w">   </span>MSS<span class="w"> </span>Window<span class="w">  </span>irtt<span class="w"> </span>Iface
<span class="m">10</span>.0.0.0<span class="w">        </span><span class="m">0</span>.0.0.0<span class="w">         </span><span class="m">255</span>.255.255.252<span class="w"> </span>U<span class="w">         </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w">          </span><span class="m">0</span><span class="w"> </span>eth1
<span class="m">10</span>.0.1.0<span class="w">        </span><span class="m">0</span>.0.0.0<span class="w">         </span><span class="m">255</span>.255.255.0<span class="w">   </span>U<span class="w">         </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w">          </span><span class="m">0</span><span class="w"> </span>eth0
<span class="m">10</span>.0.2.0<span class="w">        </span><span class="m">10</span>.0.0.2<span class="w">        </span><span class="m">255</span>.255.255.0<span class="w">   </span>UG<span class="w">        </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w">          </span><span class="m">0</span><span class="w"> </span>eth1
<span class="m">10</span>.0.3.0<span class="w">        </span><span class="m">10</span>.0.0.2<span class="w">        </span><span class="m">255</span>.255.255.0<span class="w">   </span>UG<span class="w">        </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w">          </span><span class="m">0</span><span class="w"> </span>eth1
<span class="o">[</span>edit<span class="o">]</span>
</pre></div>
</div>
<p>y las interfaces de red como</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>vyos@vyos#<span class="w"> </span>show<span class="w"> </span>interfaces
<span class="w"> </span>ethernet<span class="w"> </span>eth0<span class="w"> </span><span class="o">{</span>
<span class="w">     </span>address<span class="w"> </span><span class="m">10</span>.0.1.254/24
<span class="w">     </span>hw-id<span class="w"> </span>0c:36:d7:ab:00:00
<span class="w"> </span><span class="o">}</span>
<span class="w"> </span>ethernet<span class="w"> </span>eth1<span class="w"> </span><span class="o">{</span>
<span class="w">     </span>address<span class="w"> </span><span class="m">10</span>.0.0.1/30
<span class="w">     </span>hw-id<span class="w"> </span>0c:36:d7:ab:00:01
<span class="w"> </span><span class="o">}</span>
<span class="w"> </span>ethernet<span class="w"> </span>eth2<span class="w"> </span><span class="o">{</span>
<span class="w">     </span>hw-id<span class="w"> </span>0c:36:d7:ab:00:02
<span class="w"> </span><span class="o">}</span>
<span class="w"> </span>loopback<span class="w"> </span>lo<span class="w"> </span><span class="o">{</span>
<span class="w"> </span><span class="o">}</span>
<span class="o">[</span>edit<span class="o">]</span>
</pre></div>
</div>
<p>Para el caso de <strong>R3</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>show<span class="w"> </span>interfaces
configure
<span class="nb">set</span><span class="w"> </span>interfaces<span class="w"> </span>ethernet<span class="w"> </span>eth0<span class="w"> </span>address<span class="w"> </span><span class="m">10</span>.0.3.254/24
<span class="nb">set</span><span class="w"> </span>interfaces<span class="w"> </span>ethernet<span class="w"> </span>eth2<span class="w"> </span>address<span class="w"> </span><span class="m">10</span>.0.0.6/30
<span class="nb">set</span><span class="w"> </span>protocols<span class="w"> </span>static<span class="w"> </span>route<span class="w"> </span><span class="m">10</span>.0.1.0/24<span class="w"> </span>next-hop<span class="w"> </span><span class="m">10</span>.0.0.5
<span class="nb">set</span><span class="w"> </span>protocols<span class="w"> </span>static<span class="w"> </span>route<span class="w"> </span><span class="m">10</span>.0.2.0/24<span class="w"> </span>next-hop<span class="w"> </span><span class="m">10</span>.0.0.5
commit
save
</pre></div>
</div>
<p>Comprobamos la tabla de encaminamiento de <strong>R3</strong></p>
<img alt="../_images/R2.png" src="../_images/R2.png" />
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>vyos@vyos#<span class="w"> </span>netstat<span class="w"> </span>-r
Kernel<span class="w"> </span>IP<span class="w"> </span>routing<span class="w"> </span>table
Destination<span class="w">     </span>Gateway<span class="w">         </span>Genmask<span class="w">         </span>Flags<span class="w">   </span>MSS<span class="w"> </span>Window<span class="w">  </span>irtt<span class="w"> </span>Iface
<span class="m">10</span>.0.0.4<span class="w">        </span><span class="m">0</span>.0.0.0<span class="w">         </span><span class="m">255</span>.255.255.252<span class="w"> </span>U<span class="w">         </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w">          </span><span class="m">0</span><span class="w"> </span>eth2
<span class="m">10</span>.0.1.0<span class="w">        </span><span class="m">10</span>.0.0.5<span class="w">        </span><span class="m">255</span>.255.255.0<span class="w">   </span>UG<span class="w">        </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w">          </span><span class="m">0</span><span class="w"> </span>eth2
<span class="m">10</span>.0.2.0<span class="w">        </span><span class="m">10</span>.0.0.5<span class="w">        </span><span class="m">255</span>.255.255.0<span class="w">   </span>UG<span class="w">        </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w">          </span><span class="m">0</span><span class="w"> </span>eth2
<span class="m">10</span>.0.3.0<span class="w">        </span><span class="m">0</span>.0.0.0<span class="w">         </span><span class="m">255</span>.255.255.0<span class="w">   </span>U<span class="w">         </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w">          </span><span class="m">0</span><span class="w"> </span>eth0
<span class="o">[</span>edit<span class="o">]</span>
</pre></div>
</div>
<p>y las interfaces de red como</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>vyos@vyos#<span class="w"> </span>show<span class="w"> </span>interfaces
<span class="w"> </span>ethernet<span class="w"> </span>eth0<span class="w"> </span><span class="o">{</span>
<span class="w">     </span>address<span class="w"> </span><span class="m">10</span>.0.3.254/24
<span class="w">     </span>hw-id<span class="w"> </span>0c:73:d2:39:00:00
<span class="w"> </span><span class="o">}</span>
<span class="w"> </span>ethernet<span class="w"> </span>eth1<span class="w"> </span><span class="o">{</span>
<span class="w">     </span>hw-id<span class="w"> </span>0c:73:d2:39:00:01
<span class="w"> </span><span class="o">}</span>
<span class="w"> </span>ethernet<span class="w"> </span>eth2<span class="w"> </span><span class="o">{</span>
<span class="w">     </span>address<span class="w"> </span><span class="m">10</span>.0.0.6/30
<span class="w">     </span>hw-id<span class="w"> </span>0c:73:d2:39:00:02
<span class="w"> </span><span class="o">}</span>
<span class="w"> </span>loopback<span class="w"> </span>lo<span class="w"> </span><span class="o">{</span>
<span class="w"> </span><span class="o">}</span>
<span class="o">[</span>edit<span class="o">]</span>
</pre></div>
</div>
<p>Ejecuta los siguientes comandos <code class="docutils literal notranslate"><span class="pre">ping</span> <span class="pre">10.0.3.10</span></code> y <code class="docutils literal notranslate"><span class="pre">trace</span> <span class="pre">10.0.2.10</span></code> en la 10.0.1.10, sube un pantallazo</p>
</section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="Direccionamiento_IP.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">anterior</p>
        <p class="prev-next-title">Direccionamiento IP</p>
      </div>
    </a>
    <a class="right-next"
       href="cableado_estructurado.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">siguiente</p>
        <p class="prev-next-title">Cableado Estructurado</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contenido
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#caso-practico-router-cisco">Caso práctico: Router Cisco</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#caso-practico-router-cisco-dhcp">Caso práctico: Router Cisco (DHCP)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#diagrama-de-flujo-dhcp">Diagrama de flujo DHCP</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#caso-practico-telnet-ssh">Caso práctico: telnet &amp; ssh</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#caso-practico-router-cisco-cloud">Caso práctico: Router Cisco (Cloud)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#caso-practico-router-cisco-enrutamiento-estatico">Caso práctico: Router Cisco (Enrutamiento estático)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#caso-practico-router-cisco-enrutamiento-dinamico">Caso práctico: Router Cisco (Enrutamiento dinamico)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#caso-practico-router-cisco-7r">Caso práctico: Router Cisco (7R)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#caso-practico-router-mikrotik">Caso práctico: Router MikroTik</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#caso-practico-vyos">Caso práctico: Vyos</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
Por dgtrabada
</p>

  </div>
  
  <div class="footer-item">
    

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>